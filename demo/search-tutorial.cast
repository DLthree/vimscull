{"version": 2, "width": 110, "height": 38, "timestamp": 1771501789, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.015472, "o", "\u001b[?1049h\u001b[22;0;0t\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b]11;?\u0007\u001b[?2004h\u001b[?u\u001b[c\u001b[?25h"]
[0.051408, "o", "\u001b[?25l\u001b(B\u001b[m\u001b[H\u001b[2J\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[J\u001b[H"]
[0.073895, "o", "\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[0;1m\u001b[38;2;255;255;0m1   \u001b(B\u001b[m\u001b[38;2;255;160;160m\u001b[48;2;102;102;102m\"\"\"Request handling pipeline —\u001b[1;37H entry point for HTTP requests.\"\"\"\u001b(B\u001b[m\u001b[48;2;102;102;102m                                        \r\n\u001b(B\u001b[m\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  2 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  3 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mhandle_request\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  4 \u001b(B\u001b[m    \u001b[38;2;255;160;160m\"\"\"Main request handler. Validates input then dispatches.\"\"\"\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  5 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mnot\u001b(B\u001b[m validate_headers(request):\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m        \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m {\u001b[38;2;255;160;160m\"status\"\u001b(B\u001b[m: \u001b[38;2;255;160;160m401\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m: \u001b[38;2;255;160;160m\"Unauthorized\"\u001b(B\u001b[m}\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  7 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  8 \u001b(B\u001b[m    user = extract_user(request)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    payload = parse_body(request)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m dispatch(user, payload)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 13 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mvalidate_headers\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mbool\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 14 \u001b(B\u001b[m    token = request.get(\u001b[38;2;255;160;160m\"headers\"\u001b(B\u001b[m, {}).get(\u001b[38;2;255;160;160m\"Authorization\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 15 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m token.startswith(\u001b[38;2;255;160;160m\"Bearer \"\u001b(B\u001b[m) \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mand\u001b(B\u001b[m \u001b[38;2;64;255;255mlen\u001b(B\u001b[m(token) > \u001b[38;2;255;160;160m7\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 16 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 17 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 18 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mextract_user\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mstr\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 19 \u001b(B\u001b[m    token = request[\u001b[38;2;255;160;160m\"headers\"\u001b(B\u001b[m][\u001b[38;2;255;160;160m\"Authorization\"\u001b(B\u001b[m][\u001b[38;2;255;160;160m7\u001b(B\u001b[m:]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 20 \u001b(B\u001b[m    \u001b[38;2;128;160;255m# Decode JWT claims (simplified)\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 21 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m base64, json\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 22 \u001b(B\u001b[m    claims = json.loads(base64.b64decode(token.split(\u001b[38;2;255;160;160m\".\"\u001b(B\u001b[m)[\u001b[38;2;255;160;160m1\u001b(B\u001b[m] + \u001b[38;2;255;160;160m\"==\"\u001b(B\u001b[m))\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 23 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m claims[\u001b[38;2;255;160;160m\"sub\"\u001b(B\u001b[m]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 24 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 25 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 26 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mparse_body\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:"]
[0.073976, "o", "\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 27 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 28 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 30 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 32 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 33 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 34 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:\u001b[K\r\n                                                                                                              \r\n\u001b[K\n\u001b[J\u001b]112\u0007\u001b[2 q\u001b[1;7H\u001b[?25h"]
[0.074318, "o", "\u001b[?25l\r\u001b[36B\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mFailed to source `/home/runner/.local/share/nvim/lazy/telescope.nvim/plugin/telescope.lua`\u001b[11;38r\u001b[11;1H\u001b(B\u001b[m\u001b[26M\u001b[r\u001b[10;1H\u001b(B\u001b[0;1;7m                                                                                                              \r\n\n\n\u001b(B\u001b[m\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mvim/_editor.lua:341: /home/runner/work/vimscull/vimscull/demo/init_realistic.lua..nvim_exec2() called at /home\r\n/runner/work/vimscull/vimscull/demo/init_realistic.lua:0../home/runner/.local/share/nvim/lazy/telescope.nvim/p\r\nlugin/telescope.lua: Vim(source):E5113: Error while calling lua chunk: ...ocal/share/nvim/lazy/telescope.nvim/\r\nplugin/telescope.lua:2: Telescope.nvim requires at least nvim-0.10.4.\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I[C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...ocal/share/nvim/lazy/telescope.nvim/plugin/telescope.lua:2: in main chunk\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I[C]: in function 'nvim_exec2'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^Ivim/_editor.lua:341: in function 'cmd'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:510: in function <...local/share/nvim/lazy/lazy.\r\nnvim/lua/lazy/core/loader.lua:509>\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I[C]: in function 'xpcall'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I.../.local/share/nvim/lazy/lazy.nvim/lua/lazy/core/util.lua:135: in function 'try'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:509: in function 'source'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:457: in function 'source_runtime'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:425: in function 'packadd'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:359: in function '_load'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:197: in function 'load'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:127: in function 'startup'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I...unner/.local/share/nvim/lazy/lazy.nvim/lua/lazy/init.lua:112: in function 'setup'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m^I/home/runner/work/vimscull/vimscull/demo/init_realistic.lua:51: in main chunk\u001b(B\u001b[m\u001b[K\r\n\u001b[K\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m# stacktrace:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m  - vim/_editor.lua:341 _in_ **cmd**\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m  - demo/init_realistic.lua:51\u001b(B\u001b[m\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;0;128;0mPress ENTER or type command to continue\u001b(B\u001b[m\u001b[K\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[0.11137, "o", "\u001b[?25l\u001b[?1004h\u001b[?25h"]
[15.049115, "o", "\u001b[?25l\r\u001b[28A\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    payload = parse_body(request)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m dispatch(user, payload)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 13 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mvalidate_headers\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mbool\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 14 \u001b(B\u001b[m    token = request.get(\u001b[38;2;255;160;160m\"headers\"\u001b(B\u001b[m, {}).get(\u001b[38;2;255;160;160m\"Authorization\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 15 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m token.startswith(\u001b[38;2;255;160;160m\"Bearer \"\u001b(B\u001b[m) \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mand\u001b(B\u001b[m \u001b[38;2;64;255;255mlen\u001b(B\u001b[m(token) > \u001b[38;2;255;160;160m7\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 16 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 17 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 18 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mextract_user\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mstr\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 19 \u001b(B\u001b[m    token = request[\u001b[38;2;255;160;160m\"headers\"\u001b(B\u001b[m][\u001b[38;2;255;160;160m\"Authorization\"\u001b(B\u001b[m][\u001b[38;2;255;160;160m7\u001b(B\u001b[m:]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 20 \u001b(B\u001b[m    \u001b[38;2;128;160;255m# Decode JWT claims (simplified)\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 21 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m base64, json\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 22 \u001b(B\u001b[m    claims = json.loads(base64.b64decode(token.split(\u001b[38;2;255;160;160m\".\"\u001b(B\u001b[m)[\u001b[38;2;255;160;160m1\u001b(B\u001b[m] + \u001b[38;2;255;160;160m\"==\"\u001b(B\u001b[m))\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 23 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m claims[\u001b[38;2;255;160;160m\"sub\"\u001b(B\u001b[m]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 24 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 25 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 26 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mparse_body\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 27 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 28 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 30 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 32 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 33 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 34 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;25"]
[15.049258, "o", "5;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b(B\u001b[m\r\n\u001b[K\n\u001b[J\u001b[?1002h\u001b[?1006h\u001b[1;7H\u001b[?25h\u001b[?25l\u001b[38;100H^[\u001b[1;7H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[1;7H\u001b[?25h"]
[15.530657, "o", "\u001b[?25l\u001b[38;100H:\u001b[1;7H\u001b[?25h"]
[15.530848, "o", "\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[15.538671, "o", "\u001b[?25l\r\u001b[A\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m COMMAND \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m\u001b[36;11H \u001b[36;13H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py               utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m   1:1  \u001b[37;2H\u001b[?25h"]
[15.63098, "o", "\u001b[?25l\u001b(B\u001b[mN\u001b[?25h"]
[15.731218, "o", "\u001b[?25lu\u001b[?25h"]
[15.831478, "o", "\u001b[?25lm\u001b[?25h"]
[15.931488, "o", "\u001b[?25ls\u001b[?25h"]
[16.031937, "o", "\u001b[?25lc\u001b[?25h"]
[16.131914, "o", "\u001b[?25lu\u001b[?25h"]
[16.232283, "o", "\u001b[?25ll\u001b[?25h"]
[16.332532, "o", "\u001b[?25ll\u001b[?25h"]
[16.43277, "o", "\u001b[?25lC\u001b[?25h"]
[16.532927, "o", "\u001b[?25lo\u001b[?25h"]
[16.633199, "o", "\u001b[?25ln\u001b[?25h"]
[16.733368, "o", "\u001b[?25ln\u001b[?25h"]
[16.833624, "o", "\u001b[?25le\u001b[?25h"]
[16.933887, "o", "\u001b[?25lc\u001b[?25h"]
[17.033895, "o", "\u001b[?25lt\u001b[?25h"]
[17.134166, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[17.23437, "o", "\u001b[?25l1\u001b[?25h"]
[17.334438, "o", "\u001b[?25l2\u001b[?25h"]
[17.434685, "o", "\u001b[?25l7\u001b[?25h"]
[17.534858, "o", "\u001b[?25l.\u001b[?25h"]
[17.635148, "o", "\u001b[?25l0\u001b[?25h"]
[17.735377, "o", "\u001b[?25l.\u001b[?25h"]
[17.835633, "o", "\u001b[?25l0\u001b[?25h"]
[17.935927, "o", "\u001b[?25l.\u001b[?25h"]
[18.036073, "o", "\u001b[?25l1\u001b[?25h"]
[18.13643, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[18.236493, "o", "\u001b[?25l5\u001b[?25h"]
[18.336745, "o", "\u001b[?25l2\u001b[?25h"]
[18.437061, "o", "\u001b[?25l2\u001b[?25h"]
[18.537209, "o", "\u001b[?25l3\u001b[?25h"]
[18.63752, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[18.639398, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m[numscull] /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:48: attempt to call field 'load_keypair\r\n' (a nil value)\u001b]112\u0007\u001b[2 q\u001b[1;7H\u001b[?25h"]
[18.640092, "o", "\u001b[?25l\r\u001b[35B\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b[1;7H\u001b[?25h"]
[21.737955, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[1;7H\u001b[?25h"]
[21.73811, "o", "\u001b[?25l\r\u001b[36B\u001b[K\n\u001b[100X\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[21.74861, "o", "\u001b[?25l\r\u001b[A\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m COMMAND \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m\u001b[36;11H \u001b[36;13H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py               utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m   1:1  \u001b[37;2H\u001b[?25h"]
[21.837986, "o", "\u001b[?25l\u001b(B\u001b[mN\u001b[?25h"]
[21.938216, "o", "\u001b[?25lu\u001b[?25h"]
[22.038522, "o", "\u001b[?25lm\u001b[?25h"]
[22.138761, "o", "\u001b[?25ls\u001b[?25h"]
[22.238936, "o", "\u001b[?25lc\u001b[?25h"]
[22.339259, "o", "\u001b[?25lu\u001b[?25h"]
[22.439484, "o", "\u001b[?25ll\u001b[?25h"]
[22.539547, "o", "\u001b[?25ll\u001b[?25h"]
[22.63977, "o", "\u001b[?25lP\u001b[?25h"]
[22.740044, "o", "\u001b[?25lr\u001b[?25h"]
[22.840267, "o", "\u001b[?25lo\u001b[?25h"]
[22.940475, "o", "\u001b[?25lj\u001b[?25h"]
[23.040689, "o", "\u001b[?25le\u001b[?25h"]
[23.141047, "o", "\u001b[?25lc\u001b[?25h"]
[23.241226, "o", "\u001b[?25lt\u001b[?25h"]
[23.341403, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[23.441579, "o", "\u001b[?25ls\u001b[?25h"]
[23.541724, "o", "\u001b[?25le\u001b[?25h"]
[23.641907, "o", "\u001b[?25lc\u001b[?25h"]
[23.74215, "o", "\u001b[?25lu\u001b[?25h"]
[23.84254, "o", "\u001b[?25lr\u001b[?25h"]
[23.942667, "o", "\u001b[?25li\u001b[?25h"]
[24.042989, "o", "\u001b[?25lt\u001b[?25h"]
[24.143153, "o", "\u001b[?25ly\u001b[?25h"]
[24.24327, "o", "\u001b[?25l-\u001b[?25h"]
[24.343541, "o", "\u001b[?25lr\u001b[?25h"]
[24.443807, "o", "\u001b[?25le\u001b[?25h"]
[24.544051, "o", "\u001b[?25lv\u001b[?25h"]
[24.644303, "o", "\u001b[?25li\u001b[?25h"]
[24.744509, "o", "\u001b[?25le\u001b[?25h"]
[24.844672, "o", "\u001b[?25lw\u001b[?25h"]
[24.944989, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[24.945634, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...ru\r\nnner/work/vimscull/vimscull/lua/numscull/transport.lua:68: read failed: EOF (wanted 10 bytes, buffer had 0). \u001b[36;38r\u001b[36;1H\u001b(B\u001b[m\u001b[M\u001b[r\u001b[35;1H\u001b(B\u001b[0;1;7m                                                                                                              \u001b(B\u001b[m\r\n\n\n\u001b[J\u001b[37;110H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mS\u001b[28;38r\u001b[28;1H\u001b(B\u001b[m\u001b[7M\u001b[r\u001b[31;1H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0merver closed connection; if no active project, use :NumscullProject <name>.\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'change_project'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:59: in function </home/runner/work/vimscull/vi\r\nmscull/plugin/numscull.lua:57>\u001b(B\u001b[m\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;0;128;0mPress ENTER or type command to continue\u001b(B\u001b[m\u001b[K\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[108.526402, "o", "\u001b[?25l\r\u001b[10A\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 27 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json                                                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 28 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)                                                                     \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)                                                                              \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 30 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 32 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 33 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 34 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:                                                                            \r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m COMMAND \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m\u001b[36;11H \u001b[36;13H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py               utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;64;255;255m   1:1  \u001b(B\u001b[m\r\n\u001b[K\n\u001b[J\u001b[?1002h\u001b[?1006h\u001b[1;7H\u001b[?25h\u001b[?25l\u001b[38;100H^[\u001b[1;7H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[1;7H\u001b[?25h"]
[108.526491, "o", "\u001b[?25l\r\u001b[35B\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b[1;7H\u001b[?25h"]
[108.527, "o", "\u001b[?25l\r\u001b[36B\u001b(B\u001b[m:6\u001b]112\u0007\u001b[2 q\r\u001b[37;1H\u001b[?25h"]
[108.527721, "o", "\u001b[?25l\u001b[1;3H\u001b[38;2;255;255;0m  5 \u001b(B\u001b[m\u001b[38;2;255;160;160m\"\"\"Request handling pipeline —\u001b[1;37H entry point for HTTP requests.\"\"\"\u001b(B\u001b[m\u001b[K\u001b[2;5H\u001b[38;2;255;255;0m4\u001b[3;5H3\u001b[4;5H2\u001b[5;5H1\u001b[6;3H\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m6   \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96m\u001b[48;2;102;102;102mif\u001b(B\u001b[m\u001b[48;2;102;102;102m \u001b(B\u001b[0;1m\u001b[38;2;255;255;96m\u001b[48;2;102;102;102mnot\u001b(B\u001b[m\u001b[48;2;102;102;102m validate_headers(request):                                                                   \u001b[7;5H\u001b(B\u001b[m\u001b[38;2;255;255;0m1\u001b[8;5H2\u001b[9;5H3\u001b[10;5H4\u001b[11;4H 5\u001b[12;4H 6\u001b[13;4H 7\u001b[14;4H 8\u001b[15;4H 9\u001b[16;5H0\u001b[17;5H1\u001b[18;5H2\u001b[19;5H3\u001b[20;5H4\u001b[21;4H15\u001b[22;4H16\u001b[23;4H17\u001b[24;4H18\u001b[25;4H19\u001b[26;5H0\u001b[27;5H1\u001b[28;5H2\u001b[29;5H3\u001b[30;5H4\u001b[31;4H25\u001b[32;4H26\u001b[33;4H27\u001b[34;4H28\u001b[35;4H29\u001b(B\u001b[m\r\n\n  \r\u001b[37;1H:NoteAdd\u001b[Cmissing\u001b[Crate\u001b[Climiting\u001b[Con\u001b[Cauth\u001b[Ccheck\u001b[C#auth\u001b[C#rate-limit\u001b]112\u0007\u001b[2 q\r\u001b[37;1H\u001b[?25h"]
[116.527407, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:174: run_sync: timeo\r\nut after 8000ms\u001b[27;38r\u001b[27;1H\u001b(B\u001b[m\u001b[10M\u001b[r\u001b[26;1H\u001b(B\u001b[0;1;7m                                                                                                              \r\n\n\n\u001b(B\u001b[m\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:174: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'request'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:165: in function 'set'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:257: in function 'do_add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:268: in function 'add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:85: in function </home/runner/work/vimscull/vi\r\nmscull/plugin/numscull.lua:84>\u001b(B\u001b[m\u001b[K\r\n:1                                     \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[C\u001b[C\u001b[?25h\u001b[?25l6\r\u001b[38;1H\u001b[?25h"]
[116.528182, "o", "\u001b[?25l\u001b[12A\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 20 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 21 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mparse_body\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 22 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json                                                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 23 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)                                                                     \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 24 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)                                                                              \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 25 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 26 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 27 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 28 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:                                                                            \r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b[1;4H\u001b(B\u001b[m\u001b[38;2;255;255;0m1\u001b[2;4H1\u001b[3;4H1\u001b[4;4H1\u001b[5;4H1\u001b[6;3H 10 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mnot\u001b(B\u001b[m validate_headers(request):\u001b[K\u001b[7;5H\u001b[38;2;255;255;0m9\u001b[8;5H8\u001b[9;5H7\u001b[10;5H6\u001b[12;5H4\u001b[13;5H3\u001b[14;5H2\u001b[15;5H1\u001b[16;3H\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m16  \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96m\u001b[48;2;102;102;102mreturn\u001b(B\u001b[m\u001b[48;2;102;102;102m token.startswith(\u001b(B\u001b[m\u001b[38;2;255;160;160m\u001b[48;2;102;102;102m\"Bearer \"\u001b(B\u001b[m\u001b[48;2;102;102;102m) \u001b(B\u001b[0;1m\u001b[38;2;255;255;96m\u001b[48;2;102;102;102mand\u001b(B\u001b[m\u001b[48;2;102;102;102m \u001b(B\u001b[m\u001b[38;2;64;255;255m\u001b[48;2;102;102;102mlen\u001b(B\u001b[m\u001b[48;2;102;102;102m(token) > \u001b(B\u001b[m\u001b[38;2;255;160;160m\u001b[48;2;102;102;102m7\u001b(B\u001b[m\u001b[48;2;102;102;102m                                               \u001b[17;4H\u001b(B\u001b[m\u001b[38;2;255;255;0m \u001b[18;4H \u001b[19;4H \u001b[20;4H \u001b[21;4H \u001b[22;4H \u001b[23;4H \u001b[24;4H \u001b[25;4H \u001b[26;4H1\u001b[27;4H1\u001b[28;4H1\u001b[29;4H1\u001b[30;4H1\u001b[31;4H1\u001b[32;4H1\u001b[33;4H1\u001b[34;4H1\u001b[35;4H1\u001b(B\u001b[m\r\n\n\u001b[K\n\u001b[J\u001b[A:NoteAdd\u001b[CBearer\u001b[Cprefix\u001b[Ccheck\u001b[Cinsufficient\u001b[C—\u001b[37;45Hvalidate\u001b[CJWT\u001b[Csign\u001b]112\u0007\u001b[2 q\u001b[?25h\u001b[?25lature\u001b[C#auth\u001b[C#jwt\r\u001b[37;1H\u001b[?25h"]
[116.528639, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...ru\r\nnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b[27;38r\u001b[27;1H\u001b(B\u001b[m\u001b[10M\u001b[r\u001b[26;1H\u001b(B\u001b[0;1;7m                                                                                                              \r\n\n\n\u001b(B\u001b[m\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'request'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:165: in function 'set'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:257: in function 'do_add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:268: in function 'add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:85: in function </home/runner/work/vimscull/vi\r\nmscull/plugin/numscull.lua:84>\u001b(B\u001b[m\u001b[K\r\n:22                                    \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.52935, "o", "\u001b[?25l\u001b[12A\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mparse_body\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json                                                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 13 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)                                                                     \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 14 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)                                                                              \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 15 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 16 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 17 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 18 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 19 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:                                                                            \r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b[1;4H\u001b(B\u001b[m\u001b[38;2;255;255;0m21\u001b[2;4H20\u001b[3;5H9\u001b[4;5H8\u001b[5;5H7\u001b[6;5H6\u001b[7;4H15\u001b[8;4H14\u001b[9;4H13\u001b[10;4H12\u001b[11;4H11\u001b[12;4H10\u001b[13;5H9\u001b[14;5H8\u001b[15;5H7\u001b[16;3H  6 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m token.startswith(\u001b[38;2;255;160;160m\"Bearer \"\u001b(B\u001b[m) \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mand\u001b(B\u001b[m \u001b[38;2;64;255;255mlen\u001b(B\u001b[m(token) > \u001b[38;2;255;160;160m7\u001b(B\u001b[m\u001b[K\u001b[17;5H\u001b[38;2;255;255;0m5\u001b[18;5H4\u001b[20;5H2\u001b[21;5H1\u001b[22;3H\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m22  \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[m\u001b[38;2;255;128;255m\u001b[48;2;102;102;102mimport\u001b(B\u001b[m\u001b[48;2;102;102;102m base64, json                                                                                 \u001b[23;5H\u001b(B\u001b[m\u001b[38;2;255;255;0m1\u001b[24;5H2\u001b[25;5H3\u001b[26;4H 4\u001b[27;4H 5\u001b[28;4H 6\u001b[29;4H 7\u001b[30;4H 8\u001b[31;4H 9\u001b[32;5H0\u001b[33;5H1\u001b[34;5H2\u001b[35;5H3\u001b(B\u001b[m\r\n\n\u001b[K\n\u001b[J\u001b[A:NoteAdd\u001b[Cno\u001b[Csignature\u001b[Cverification\u001b[Con\u001b[CJWT\u001b[Ccl\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[116.529466, "o", "\u001b[?25laims\u001b[C#auth\u001b[C#jwt\u001b[C#critical\r\u001b[37;1H\u001b[?25h"]
[116.52992, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...ru\r\nnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b[27;38r\u001b[27;1H\u001b(B\u001b[m\u001b[10M\u001b[r\u001b[26;1H\u001b(B\u001b[0;1;7m                                                                                                              \r\n\n\n\u001b(B\u001b[m\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'request'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:165: in function 'set'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:257: in function 'do_add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:268: in function 'add'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:85: in function </home/runner/work/vimscull/vi\r\nmscull/plugin/numscull.lua:84>\u001b(B\u001b[m\u001b[K\r\n:48                                    \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.531264, "o", "\u001b[?25l\u001b[12A\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  4 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  5 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mparse_body\u001b(B\u001b[m(request: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m json                                                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  7 \u001b(B\u001b[m    raw = request.get(\u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"{}\"\u001b(B\u001b[m)                                                                     \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  8 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m json.loads(raw)                                                                              \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m                                                                                                        \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mdispatch\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:                                                         \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m    action = payload.get(\u001b[38;2;255;160;160m\"action\"\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"\"\u001b(B\u001b[m)                                                                  \r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 13 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mif\u001b(B\u001b[m action == \u001b[38;2;255;160;160m\"transfer\"\u001b(B\u001b[m:                                                                            \r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m NORMAL \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m\u001b[36;10H \u001b[36;12H copilot/update-demos-in-readme \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0m example_flow.py                utf-8 \u001b[36;83H \u001b[36;85H \u001b[36;87H\u001b(B\u001b[m\u001b[38;2;255;188;3m\u001b[48;2;0;0;0m \u001b[36;89H \u001b(B\u001b[m\u001b[38;2;80;80;80m\u001b[48;2;0;0;0mpython \u001b(B\u001b[m\u001b[38;2;169;169;169m\u001b[48;2;0;0;0m Top \u001b[36;103H\u001b(B\u001b[0;1m\u001b[38;2;0;0;0m\u001b[48;2;169;169;169m   1:1  \u001b[1;35r\u001b[H\u001b(B\u001b[m\u001b[13M\u001b[r\u001b[1;4H\u001b[38;2;255;255;0m34\u001b[2;4H33\u001b[3;4H32\u001b[4;4H31\u001b[5;4H30\u001b[6;4H29\u001b[7;4H28\u001b[8;4H27\u001b[9;3H 26 \u001b(B\u001b[m    \u001b[38;2;255;128;255mimport\u001b(B\u001b[m base64, json\u001b[K\u001b[10;4H\u001b[38;2;255;255;0m25\u001b[11;4H24\u001b[12;4H2\u001b[13;4H22\u001b[14;4H21\u001b[15;4H20\u001b[16;4H19\u001b[17;4H1\u001b[18;4H17\u001b[19;5H6\u001b[20;5H5\u001b[21;5H4\r\n\n\u001b(B\u001b[m\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m        \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m process_transfer(user, payload)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m {\u001b[38;2;255;160;160m\"status\"\u001b(B\u001b[m: \u001b[38;2;255;160;160m400\u001b(B\u001b[m, \u001b[38;2;255;160;160m\"body\"\u001b(B\u001b[m: \u001b[38;2;255;160;160m\"Unknown action\"\u001b(B\u001b[m}\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  8 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mprocess_transfer\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, payload: \u001b[38;2;64;255;255mdict\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  7 \u001b(B\u001b[m    amount = payload[\u001b[38;2;255;160;160m\"amount\"\u001b(B\u001b[m]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    destination = payload[\u001b[38;2;255;160;160m\"destination\"\u001b(B\u001b[m]\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m"]
[116.531325, "o", "  \u001b(B\u001b[m\u001b[38;2;255;255;0m  5 \u001b(B\u001b[m    \u001b[38;2;128;160;255m# \u001b(B\u001b[m\u001b[38;2;0;0;255m\u001b[48;2;255;255;0mTODO\u001b(B\u001b[m\u001b[38;2;128;160;255m: add rate limiting\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  4 \u001b(B\u001b[m    \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mreturn\u001b(B\u001b[m execute_transfer(user, destination, amount)\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  3 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  2 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[0;1m\u001b[38;2;255;255;96mdef\u001b(B\u001b[m \u001b[38;2;64;255;255mexecute_transfer\u001b(B\u001b[m(user: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, dest: \u001b[38;2;64;255;255mstr\u001b(B\u001b[m, amount: \u001b[38;2;64;255;255mfloat\u001b(B\u001b[m) -> \u001b[38;2;64;255;255mdict\u001b(B\u001b[m:\u001b[K\r\n\u001b[38;2;0;255;255m\u001b[48;2;128;128;128m  \u001b(B\u001b[0;1m\u001b[38;2;255;255;0m48  \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[m\u001b[38;2;128;160;255m\u001b[48;2;102;102;102m# Direct DB call —\u001b[35;29H no validation on amount sign!\u001b(B\u001b[m\u001b[48;2;102;102;102m                                                    \u001b(B\u001b[m\r\n\n\u001b[K\n\u001b[J\u001b[A:NoteAdd\u001b[Cno\u001b[Cvalidation\u001b[Con\u001b[Camount\u001b[Csi\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[116.531513, "o", "\u001b[?25lgn\u001b[C—\u001b[37;41Hallows\u001b[Cnegative\u001b[Ctransfers\u001b[C#validation\u001b[C#critical\r\u001b[37;1H\u001b[?25h"]
[116.531924, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...ru\r\nnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b(B\u001b[m\r\u001b[A\u001b[K\n\u001b[J\u001b[A:Not\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[116.532006, "o", "\u001b[?25leSearch\u001b[Cvalidation\r\u001b[37;1H\u001b[?25h"]
[116.53244, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...ru\r\nnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b[30;38r\u001b[30;1H\u001b(B\u001b[m\u001b[7M\u001b[r\u001b[29;1H\u001b(B\u001b[0;1;7m                                                                                                              \r\n\n\n\u001b(B\u001b[m\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'search'\u001b(B\u001b[m \u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:117: in function </home/runner/work/vimscull/v\r\nimscull/plugin/numscull.lua:112>\u001b(B\u001b[m                                                            \u001b[K\r\n:NoteSearchTags critical                                                                 \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.532768, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...r\u001b[28;38r\u001b[28;1H\u001b(B\u001b[m\u001b[M\u001b[r\u001b[38;1H\u001b[J\u001b[37;110H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mu\u001b[21;38r\u001b[21;1H\u001b(B\u001b[m\u001b[7M\u001b[r\u001b[31;1H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b(B\u001b[m                                \r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m              \u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m       \u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'search_tags'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:131: in function </home/runner/work/vimscull/v\r\nimscull/plugin/numscull.lua:126>\u001b(B\u001b[m\u001b[K\r\n:NoteSearchTags auth                   \u001b[K\u001b]112\u0007\u001b[2 q\u001b[19D\u001b[?25h\u001b[?25l\r\u001b[38;1H\u001b[?25h"]
[116.533109, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...r\u001b[20;38r\u001b[20;1H\u001b(B\u001b[m\u001b[M\u001b[r\u001b[38;1H\u001b[J\u001b[37;110H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mu\u001b[13;38r\u001b[13;1H\u001b(B\u001b[m\u001b[7M\u001b[r\u001b[31;1H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'search_tags'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:131: in function </home/runner/work/vimscull/v\r\nimscull/plugin/numscull.lua:126>\u001b(B\u001b[m\u001b[K\r\n:NoteTagCount                          \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.533418, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...r\u001b[12;38r\u001b[12;1H\u001b(B\u001b[m\u001b[M\u001b[r\u001b[38;1H\u001b[J\u001b[37;110H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mu\u001b[5;38r\u001b[5;1H\u001b(B\u001b[m\u001b[7M\u001b[r\u001b[31;1H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'tag_count'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:141: in function </home/runner/work/vimscull/v\r\nimscull/plugin/numscull.lua:140>\u001b(B\u001b[m\u001b[K\r\n:NoteList                              \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.533742, "o", "\u001b[?25l\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mError executing Lua callback: ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: run_sync: ...r\u001b[4;38r\u001b[4;1H\u001b(B\u001b[m\u001b[M\u001b[r\u001b[38;1H\u001b[J\u001b[37;110H\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mu\u001b[H\u001b(B\u001b[m\u001b[4M\u001b[5M\u001b[28B\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mnner/work/vimscull/vimscull/lua/numscull/transport.lua:84: write failed: EPIPE\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0mstack traceback:\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        [C]: in function 'error'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        ...runner/work/vimscull/vimscull/lua/numscull/transport.lua:177: in function 'run_sync'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/client.lua:130: in function 'request'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:149: in function 'for_file'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/lua/numscull/notes.lua:363: in function 'list'\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;255m\u001b[48;2;255;0;0m        /home/runner/work/vimscull/vimscull/plugin/numscull.lua:101: in function </home/runner/work/vimscull/v\r\nimscull/plugin/numscull.lua:100>\u001b(B\u001b[m\u001b[K\r\n:q                                     \u001b[K\u001b]112\u0007\u001b[2 q\r\u001b[38;1H\u001b[?25h"]
[116.535129, "o", "\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[116.538226, "o", "\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b(B\u001b[m\u001b[?25h\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?2004l\u001b[?1004l\u001b[?25h"]
