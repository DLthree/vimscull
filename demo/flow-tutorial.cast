{"version": 2, "width": 110, "height": 38, "timestamp": 1771374674, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.048364, "o", "\u001b[?1049h\u001b[22;0;0t\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b]11;?\u0007\u001b[?2004h\u001b[?u\u001b[c\u001b[?25h"]
[0.10191, "o", "\u001b[?25l\u001b(B\u001b[m\u001b[H\u001b[2J\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\u001b[48;2;102;102;102m\"\"\"Request handling pipeline —\u001b[1;35H entry point for HTTP requests.\"\"\"                                          \r\n\u001b(B\u001b[m\u001b[38;2;255;255;0m  2 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  3 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  4 \u001b(B\u001b[mdef handle_request(request: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m  5 \u001b(B\u001b[m    \"\"\"Main request handler. Validates input then dispatches.\"\"\"\u001b[K\r\n\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    if not validate_headers(request):\u001b[K\r\n\u001b[38;2;255;255;0m  7 \u001b(B\u001b[m        return {\"status\": 401, \"body\": \"Unauthorized\"}\u001b[K\r\n\u001b[38;2;255;255;0m  8 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    user = extract_user(request)\u001b[K\r\n\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m    payload = parse_body(request)\u001b[K\r\n\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    return dispatch(user, payload)\u001b[K\r\n\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 13 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 14 \u001b(B\u001b[mdef validate_headers(request: dict) -> bool:\u001b[K\r\n\u001b[38;2;255;255;0m 15 \u001b(B\u001b[m    token = request.get(\"headers\", {}).get(\"Authorization\", \"\")\u001b[K\r\n\u001b[38;2;255;255;0m 16 \u001b(B\u001b[m    return token.startswith(\"Bearer \") and len(token) > 7\u001b[K\r\n\u001b[38;2;255;255;0m 17 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 18 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 19 \u001b(B\u001b[mdef extract_user(request: dict) -> str:\u001b[K\r\n\u001b[38;2;255;255;0m 20 \u001b(B\u001b[m    token = request[\"headers\"][\"Authorization\"][7:]\u001b[K\r\n\u001b[38;2;255;255;0m 21 \u001b(B\u001b[m    # Decode JWT claims (simplified)\u001b[K\r\n\u001b[38;2;255;255;0m 22 \u001b(B\u001b[m    import base64, json\u001b[K\r\n\u001b[38;2;255;255;0m 23 \u001b(B\u001b[m    claims = json.loads(base64.b64decode(token.split(\".\")[1] + \"==\"))\u001b[K\r\n\u001b[38;2;255;255;0m 24 \u001b(B\u001b[m    return claims[\"sub\"]\u001b[K\r\n\u001b[38;2;255;255;0m 25 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 26 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 27 \u001b(B\u001b[mdef parse_body(request: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 28 \u001b(B\u001b[m    import json\u001b[K\r\n\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    raw = request.get(\"body\", \"{}\")\u001b[K\r\n\u001b[38;2;255;255;0m 30 \u001b(B\u001b[m    return json.loads(raw)\u001b[K\r\n\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 32 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 33 \u001b(B\u001b[mdef dispatch(user: str, payload: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 34 \u001b(B\u001b[m    action = payload.get(\"action\", \"\")\u001b[K\r\n\u001b[38;2;255;255;0m 35 \u001b(B\u001b[m    if action == \"transfer\":\u001b[K\r\n\u001b(B\u001b[0;1;7mdemo/example_flow.py                                                                        1,1            Top\u001b]112\u0007\u001b[2 q\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[H\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\u001b[48;2;102;102;102m\"\"\"Request handling pipeline —\u001b[1;35H entry point for HTTP requests.\"\"\"\u001b[K\r\n\u001b(B\u001b[m\u001b[38;2;255;255;0m  2 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  3 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  4 \u001b(B\u001b[mdef handle_request(request: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m  5 \u001b(B\u001b[m    \"\"\"Main request handler. Validates input then dispatches.\"\"\"\u001b[K\r\n\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    if not validate_headers(request):\u001b[K\r\n\u001b[38;2;255;255;0m  7 \u001b(B\u001b[m        return {\"status\": 401, \"body\": \"Unauthorized\"}\u001b[K\r\n\u001b[38;2;255;255;0m  8 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    user = extract_user(request)\u001b[K\r\n\u001b[38;2;255;255;0m 10 \u001b(B\u001b[m    payload = parse_body(request)\u001b[K\r\n\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    return dispatch(user, payload)\u001b[K\r\n\u001b[38;2;255;255;0m 12 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 13 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 14 \u001b(B\u001b[mdef validate_headers(request: dict) -> bool:\u001b[K\r\n\u001b[38;2;255;255;0m 15 \u001b(B\u001b[m    token = request.get(\"headers\", {}).get(\"Authorization\", \"\")\u001b[K\r\n\u001b[38;2;255;255;0m 16 \u001b(B\u001b[m    return token.startswith(\"Bearer \") and len(token) > 7\u001b[K\r\n\u001b[38;2;255;255;0m 17 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 18 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 19 \u001b(B\u001b[mdef extract_user(request: dict) -> str:\u001b[K\r\n\u001b[38;2;255;255;0m 20 \u001b(B\u001b[m    token = request[\"headers\"][\"Authorization\"][7:]\u001b[K\r\n\u001b[38;2;255;255;0m 21 \u001b(B\u001b[m    # Decode JWT claims (simplified)\u001b[K\r\n\u001b[38;2;255;255;0m 22 \u001b(B\u001b[m    import base64, json\u001b[K\r\n\u001b[38;2;255;255;0m 23 \u001b(B\u001b[m    claims = json.loads(base64.b64decode(token.split(\".\")[1] + \"==\"))\u001b[K\r\n\u001b[38;2;255;255;0m 24 \u001b(B\u001b[m    return claims[\"sub\"]\u001b[K\r\n\u001b[38;2;255;255;0m 25 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 26 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 27 \u001b(B\u001b[mdef parse_body(request: dict) -> dict:\u001b[K\r\n\u001b[38;2;2"]
[0.102338, "o", "55;255;0m 28 \u001b(B\u001b[m    import json\u001b[K\r\n\u001b[38;2;255;255;0m 29 \u001b(B\u001b[m    raw = request.get(\"body\", \"{}\")\u001b[K\r\n\u001b[38;2;255;255;0m 30 \u001b(B\u001b[m    return json.loads(raw)\u001b[K\r\n\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 32 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 33 \u001b(B\u001b[mdef dispatch(user: str, payload: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 34 \u001b(B\u001b[m    action = payload.get(\"action\", \"\")\u001b[K\r\n\u001b[38;2;255;255;0m 35 \u001b(B\u001b[m    if action == \"transfer\":\u001b[K\r\n\u001b(B\u001b[0;1;7mdemo/example_flow.py                                                                        1,1            Top\u001b(B\u001b[m\r\n\u001b[K\n\u001b[J\u001b[1;5H\u001b[?25h"]
[0.136776, "o", "\u001b[?25l\u001b[?1004h\u001b[?25h"]
[3.887318, "o", "\u001b[?25l\u001b[38;100H^[        \u001b[1;5H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[1;5H\u001b[?25h"]
[4.387894, "o", "\u001b[?25l\u001b[38;100H:\u001b[1;5H\u001b[?25h"]
[4.389385, "o", "\u001b[?25l\r\u001b[36B\u001b[K\n\u001b[J\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[4.489026, "o", "\u001b[?25lN\u001b[?25h"]
[4.590149, "o", "\u001b[?25lu\u001b[?25h"]
[4.691252, "o", "\u001b[?25lm\u001b[?25h"]
[4.79266, "o", "\u001b[?25ls\u001b[?25h"]
[4.89396, "o", "\u001b[?25lc\u001b[?25h"]
[4.995031, "o", "\u001b[?25lu\u001b[?25h"]
[5.096025, "o", "\u001b[?25ll\u001b[?25h"]
[5.197229, "o", "\u001b[?25ll\u001b[?25h"]
[5.298592, "o", "\u001b[?25lC\u001b[?25h"]
[5.40017, "o", "\u001b[?25lo\u001b[?25h"]
[5.501631, "o", "\u001b[?25ln\u001b[?25h"]
[5.603046, "o", "\u001b[?25ln\u001b[?25h"]
[5.70432, "o", "\u001b[?25le\u001b[?25h"]
[5.80528, "o", "\u001b[?25lc\u001b[?25h"]
[5.906572, "o", "\u001b[?25lt\u001b[?25h"]
[6.007545, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[6.108698, "o", "\u001b[?25l1\u001b[?25h"]
[6.209979, "o", "\u001b[?25l2\u001b[?25h"]
[6.311388, "o", "\u001b[?25l7\u001b[?25h"]
[6.412454, "o", "\u001b[?25l.\u001b[?25h"]
[6.513167, "o", "\u001b[?25l0\u001b[?25h"]
[6.614343, "o", "\u001b[?25l.\u001b[?25h"]
[6.715586, "o", "\u001b[?25l0\u001b[?25h"]
[6.81702, "o", "\u001b[?25l.\u001b[?25h"]
[6.918401, "o", "\u001b[?25l1\u001b[?25h"]
[7.01929, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[7.12055, "o", "\u001b[?25l5\u001b[?25h"]
[7.22109, "o", "\u001b[?25l2\u001b[?25h"]
[7.322136, "o", "\u001b[?25l2\u001b[?25h"]
[7.423664, "o", "\u001b[?25l3\u001b[?25h"]
[7.524587, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[7.527162, "o", "\u001b[?25l\u001b[31X[numscull] connected\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[1;5H\u001b[?25h"]
[10.625999, "o", "\u001b[?25l\u001b[38;100H:\u001b[1;5H\u001b[?25h\u001b[?25l\r\u001b[36B\u001b[20X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[10.726883, "o", "\u001b[?25lN\u001b[?25h"]
[10.828431, "o", "\u001b[?25lu\u001b[?25h"]
[10.929776, "o", "\u001b[?25lm\u001b[?25h"]
[11.031007, "o", "\u001b[?25ls\u001b[?25h"]
[11.132449, "o", "\u001b[?25lc\u001b[?25h"]
[11.233965, "o", "\u001b[?25lu\u001b[?25h"]
[11.334926, "o", "\u001b[?25ll\u001b[?25h"]
[11.436424, "o", "\u001b[?25ll\u001b[?25h"]
[11.538357, "o", "\u001b[?25lP\u001b[?25h"]
[11.639562, "o", "\u001b[?25lr\u001b[?25h"]
[11.741119, "o", "\u001b[?25lo\u001b[?25h"]
[11.84253, "o", "\u001b[?25lj\u001b[?25h"]
[11.943841, "o", "\u001b[?25le\u001b[?25h"]
[12.04564, "o", "\u001b[?25lc\u001b[?25h"]
[12.146439, "o", "\u001b[?25lt\u001b[?25h"]
[12.248483, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[12.350033, "o", "\u001b[?25ld\u001b[?25h"]
[12.451311, "o", "\u001b[?25le\u001b[?25h"]
[12.552556, "o", "\u001b[?25lm\u001b[?25h"]
[12.653433, "o", "\u001b[?25lo\u001b[?25h"]
[12.754968, "o", "\u001b[?25l-\u001b[?25h"]
[12.856653, "o", "\u001b[?25la\u001b[?25h"]
[12.957357, "o", "\u001b[?25lu\u001b[?25h"]
[13.058766, "o", "\u001b[?25ld\u001b[?25h"]
[13.160492, "o", "\u001b[?25li\u001b[?25h"]
[13.261475, "o", "\u001b[?25lt\u001b[?25h"]
[13.362693, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[13.363912, "o", "\u001b[?25l\u001b[27X[numscull] project: demo-audit\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[1;5H\u001b[?25h"]
[15.515228, "o", "\u001b[?25l\u001b[38;100H^[\u001b[1;5H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[1;5H\u001b[?25h"]
[16.014914, "o", "\u001b[?25l\u001b[38;100H:\u001b[1;5H\u001b[?25h\u001b[?25l\r\u001b[36B\u001b[30X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[16.115904, "o", "\u001b[?25lF\u001b[?25h"]
[16.21719, "o", "\u001b[?25ll\u001b[?25h"]
[16.318514, "o", "\u001b[?25lo\u001b[?25h"]
[16.41955, "o", "\u001b[?25lw\u001b[?25h"]
[16.520646, "o", "\u001b[?25lC\u001b[?25h"]
[16.621963, "o", "\u001b[?25lr\u001b[?25h"]
[16.723087, "o", "\u001b[?25le\u001b[?25h"]
[16.824147, "o", "\u001b[?25la\u001b[?25h"]
[16.925571, "o", "\u001b[?25lt\u001b[?25h"]
[17.026841, "o", "\u001b[?25le\u001b[?25h"]
[17.127972, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[17.229205, "o", "\u001b[?25lS\u001b[?25h"]
[17.332045, "o", "\u001b[?25le\u001b[?25h"]
[17.432097, "o", "\u001b[?25lc\u001b[?25h"]
[17.533543, "o", "\u001b[?25lu\u001b[?25h"]
[17.635305, "o", "\u001b[?25lr\u001b[?25h"]
[17.736489, "o", "\u001b[?25li\u001b[?25h"]
[17.837885, "o", "\u001b[?25lt\u001b[?25h"]
[17.939754, "o", "\u001b[?25ly\u001b[?25h"]
[18.041239, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[18.142533, "o", "\u001b[?25lA\u001b[?25h"]
[18.243761, "o", "\u001b[?25lu\u001b[?25h"]
[18.345113, "o", "\u001b[?25ld\u001b[?25h"]
[18.446786, "o", "\u001b[?25li\u001b[?25h"]
[18.54797, "o", "\u001b[?25lt\u001b[?25h"]
[18.649327, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[18.65156, "o", "\u001b[?25l\u001b[26X[numscull] flow created\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[1;5H\u001b[?25h"]
[20.802501, "o", "\u001b[?25l\u001b[38;100H^[\u001b[1;5H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[1;5H\u001b[?25h"]
[21.302112, "o", "\u001b[?25l\u001b[38;100H:\u001b[1;5H\u001b[?25h\u001b[?25l\r\u001b[36B\u001b[23X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[21.453937, "o", "\u001b[?25l6\u001b[?25h"]
[21.604557, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[21.605039, "o", "\u001b[?25l\u001b[H\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\"\"\"Request handling pipeline —\u001b[1;35H entry point for HTTP requests.\"\"\"\u001b[K\r\u001b[5B\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m\u001b[48;2;102;102;102m    if not validate_headers(request):                                                                     \u001b[36;93H\u001b(B\u001b[0;1;7m6\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[6;5H\u001b[?25h"]
[22.755736, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m0\u001b[6;5H\u001b[?25h\u001b[?25l\u001b[38;100H \u001b[6;5H\u001b[?25h"]
[23.187457, "o", "\u001b[?25l\u001b[38;100H1\u001b[6;5H\u001b[?25h"]
[23.318825, "o", "\u001b[?25l\u001b[38;101H1\u001b[6;5H\u001b[?25h"]
[23.450359, "o", "\u001b[?25l\u001b[38;102Hl\u001b[6;5H\u001b[?25h"]
[23.450652, "o", "\u001b[?25l\u001b[38;100H   \u001b[36;96H\u001b(B\u001b[0;1;7m2\u001b[6;16H\u001b[?25h"]
[23.882754, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[mv\u001b[6;16H\u001b[?25h\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[23.883127, "o", "\u001b[?25l\u001b[38;100H1\u001b[6;5H    if not validate_headers(request):\u001b[K\u001b[26D\u001b[?25h\u001b[?25l\r\u001b[32B\u001b(B\u001b[0;1m-- VISUAL --\u001b[87C\u001b(B\u001b[m \u001b[88D\u001b[?25h\u001b[?25l\u001b[87C1\u001b[6;16H\u001b[?25h"]
[24.145722, "o", "\u001b[?25l\u001b[38;101H5\u001b[6;16H\u001b[?25h"]
[24.276851, "o", "\u001b[?25l\u001b[38;102Hl\u001b[6;16H\u001b[?25h"]
[24.277262, "o", "\u001b[?25l\u001b[38;101H6 \u001b[6;16H\u001b[48;2;169;169;169mvalidate_header\u001b[36;95H\u001b(B\u001b[0;1;7m27\u001b[6;31H\u001b[?25h"]
[24.958662, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[6;31H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[6;5H\u001b[48;2;102;102;102m    if not validate_headers(request):                                                                     \u001b(B\u001b[m\r\u001b[31B  \r\n\u001b[12X\u001b]112\u0007\u001b[2 q\u001b[6;31H\u001b[?25h"]
[25.259383, "o", "\u001b[?25l\u001b[38;100H:\u001b[6;31H\u001b[?25h\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[25.360719, "o", "\u001b[?25lF\u001b[?25h"]
[25.461835, "o", "\u001b[?25ll\u001b[?25h"]
[25.562873, "o", "\u001b[?25lo\u001b[?25h"]
[25.664028, "o", "\u001b[?25lw\u001b[?25h"]
[25.765229, "o", "\u001b[?25lA\u001b[?25h"]
[25.86652, "o", "\u001b[?25ld\u001b[?25h"]
[25.967448, "o", "\u001b[?25ld\u001b[?25h"]
[26.068565, "o", "\u001b[?25lN\u001b[?25h"]
[26.169715, "o", "\u001b[?25lo\u001b[?25h"]
[26.271349, "o", "\u001b[?25ld\u001b[?25h"]
[26.372324, "o", "\u001b[?25le\u001b[?25h"]
[26.473386, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[26.473707, "o", "\u001b[?25l\u001b[12XPick color: 1=Red 2=Blue 3=Green 4=Yellow 5=Cyan 6=Magenta\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[27.575344, "o", "\u001b[?25l1\u001b[?25h"]
[27.726019, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[60XNode note:\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[28.777355, "o", "\u001b[?25la\u001b[?25h"]
[28.879086, "o", "\u001b[?25lu\u001b[?25h"]
[28.980332, "o", "\u001b[?25lt\u001b[?25h"]
[29.081417, "o", "\u001b[?25lh\u001b[?25h"]
[29.18448, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[29.283976, "o", "\u001b[?25lg\u001b[?25h"]
[29.385321, "o", "\u001b[?25lu\u001b[?25h"]
[29.486593, "o", "\u001b[?25la\u001b[?25h"]
[29.587582, "o", "\u001b[?25lr\u001b[?25h"]
[29.689032, "o", "\u001b[?25ld\u001b[?25h"]
[29.790337, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[29.89176, "o", "\u001b[?25lc\u001b[?25h"]
[29.993749, "o", "\u001b[?25lh\u001b[?25h"]
[30.095062, "o", "\u001b[?25le\u001b[?25h"]
[30.196577, "o", "\u001b[?25lc\u001b[?25h"]
[30.298533, "o", "\u001b[?25lk\u001b[?25h"]
[30.399882, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[30.402362, "o", "\u001b[?25l\u001b[27C[numscull] node added (line 6)\u001b[6;16H\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mvalidate_headers\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\b\u001b[?25h"]
[32.451259, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[6;31H\u001b[?25h\u001b[?25l\r\u001b[31B\u001b[57X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[32.602078, "o", "\u001b[?25l9\u001b[?25h"]
[32.75366, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[32.754175, "o", "\u001b[?25l\u001b[31A\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    if not \u001b[38;2;255;85;85m\u001b[48;2;58;21;21mvalidate_headers\u001b(B\u001b[m(request):\u001b[K\r\n\n\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m\u001b[48;2;102;102;102m    user = extract_user(request)                                                                          \u001b[36;93H\u001b(B\u001b[0;1;7m9\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[9;31H\u001b[?25h"]
[33.905917, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m0\u001b[9;31H\u001b[?25h"]
[33.906365, "o", "\u001b[?25l\u001b[38;100H \u001b[36;95H\u001b(B\u001b[0;1;7m1 \u001b[9;5H\u001b[?25h"]
[34.3372, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m1\u001b[9;5H\u001b[?25h"]
[34.468389, "o", "\u001b[?25l\u001b[38;101H1\u001b[9;5H\u001b[?25h"]
[34.599534, "o", "\u001b[?25l\u001b[38;102Hl\u001b[9;5H\u001b[?25h"]
[34.59992, "o", "\u001b[?25l\u001b[38;100H   \u001b[36;96H\u001b(B\u001b[0;1;7m2\u001b[9;16H\u001b[?25h"]
[35.030631, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[mv\u001b[9;16H\u001b[?25h\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[35.031096, "o", "\u001b[?25l\u001b[38;100H1\u001b[9;5H    user = extract_user(request)\u001b[K\u001b[21D\u001b[?25h\u001b[?25l\r\u001b[29B\u001b(B\u001b[0;1m-- VISUAL --\u001b[87C\u001b(B\u001b[m \u001b[88D\u001b[?25h\u001b[?25l\u001b[87C1\u001b[9;16H\u001b[?25h"]
[35.292193, "o", "\u001b[?25l\u001b[38;101H1\u001b[9;16H\u001b[?25h"]
[35.424017, "o", "\u001b[?25l\u001b[38;102Hl\u001b[9;16H\u001b[?25h"]
[35.424472, "o", "\u001b[?25l\u001b[38;101H2 \u001b[9;16H\u001b[48;2;169;169;169mextract_use\u001b[36;95H\u001b(B\u001b[0;1;7m23\u001b[9;27H\u001b[?25h"]
[36.107718, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[9;27H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[9;5H\u001b[48;2;102;102;102m    user = extract_user(request)                                                                          \u001b(B\u001b[m\r\u001b[28B  \r\n\u001b[12X\u001b]112\u0007\u001b[2 q\u001b[9;27H\u001b[?25h"]
[36.40811, "o", "\u001b[?25l\u001b[38;100H:\u001b[9;27H\u001b[?25h\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[36.509053, "o", "\u001b[?25lF\u001b[?25h"]
[36.610557, "o", "\u001b[?25ll\u001b[?25h"]
[36.711917, "o", "\u001b[?25lo\u001b[?25h"]
[36.813102, "o", "\u001b[?25lw\u001b[?25h"]
[36.914353, "o", "\u001b[?25lA\u001b[?25h"]
[37.016275, "o", "\u001b[?25ld\u001b[?25h"]
[37.117779, "o", "\u001b[?25ld\u001b[?25h"]
[37.218826, "o", "\u001b[?25lN\u001b[?25h"]
[37.320413, "o", "\u001b[?25lo\u001b[?25h"]
[37.421883, "o", "\u001b[?25ld\u001b[?25h"]
[37.522812, "o", "\u001b[?25le\u001b[?25h"]
[37.624271, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[37.624602, "o", "\u001b[?25l\u001b[12XPick color: 1=Red 2=Blue 3=Green 4=Yellow 5=Cyan 6=Magenta\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[38.72604, "o", "\u001b[?25l2\u001b[?25h"]
[38.87743, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[60XNode note:\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[39.928348, "o", "\u001b[?25lJ\u001b[?25h"]
[40.029585, "o", "\u001b[?25lW\u001b[?25h"]
[40.131145, "o", "\u001b[?25lT\u001b[?25h"]
[40.232411, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[40.333552, "o", "\u001b[?25le\u001b[?25h"]
[40.434734, "o", "\u001b[?25lx\u001b[?25h"]
[40.535777, "o", "\u001b[?25lt\u001b[?25h"]
[40.636931, "o", "\u001b[?25lr\u001b[?25h"]
[40.738406, "o", "\u001b[?25la\u001b[?25h"]
[40.839593, "o", "\u001b[?25lc\u001b[?25h"]
[40.940786, "o", "\u001b[?25lt\u001b[?25h"]
[41.041666, "o", "\u001b[?25li\u001b[?25h"]
[41.143285, "o", "\u001b[?25lo\u001b[?25h"]
[41.244669, "o", "\u001b[?25ln\u001b[?25h"]
[41.345855, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[41.350475, "o", "\u001b[?25l\u001b[25C[numscull] node added (line 9)\u001b[9;16H\u001b[38;2;136;136;255m\u001b[48;2;21;21;58mextract_user\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\b\u001b[?25h"]
[43.396797, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[9;27H\u001b[?25h\u001b[?25l\r\u001b[28B\u001b[55X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[43.548387, "o", "\u001b[?25l1\u001b[?25h"]
[43.701134, "o", "\u001b[?25l1\u001b[?25h"]
[43.852609, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[43.853031, "o", "\u001b[?25l\u001b[28A\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    user = \u001b[38;2;136;136;255m\u001b[48;2;21;21;58mextract_user\u001b(B\u001b[m(request)\u001b[K\r\n\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m\u001b[48;2;102;102;102m    return dispatch(user, payload)                                                                        \u001b[36;93H\u001b(B\u001b[0;1;7m11,23\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[11;27H\u001b[?25h"]
[45.00443, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m0\u001b[11;27H\u001b[?25h"]
[45.004788, "o", "\u001b[?25l\u001b[38;100H \u001b[36;96H\u001b(B\u001b[0;1;7m1 \u001b[11;5H\u001b[?25h"]
[45.437485, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m1\u001b[11;5H\u001b[?25h"]
[45.568809, "o", "\u001b[?25l\u001b[38;101H1\u001b[11;5H\u001b[?25h"]
[45.699849, "o", "\u001b[?25l\u001b[38;102Hl\u001b[11;5H\u001b[?25h"]
[45.700278, "o", "\u001b[?25l\u001b[38;100H   \u001b[36;97H\u001b(B\u001b[0;1;7m2\u001b[11;16H\u001b[?25h"]
[46.132912, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[mv\u001b[11;16H\u001b[?25h\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[46.133273, "o", "\u001b[?25l\u001b[38;100H1\u001b[11;5H    return dispatch(user, payload)\u001b[K\u001b[23D\u001b[?25h\u001b[?25l\r\u001b[27B\u001b(B\u001b[0;1m-- VISUAL --\u001b[87C\u001b(B\u001b[m \u001b[88D\u001b[?25h\u001b[?25l\u001b[87C1\u001b[11;16H\u001b[?25h"]
[46.264322, "o", "\u001b[?25l\u001b[38;100H7\u001b[11;16H\u001b[?25h"]
[46.395797, "o", "\u001b[?25l\u001b[38;101Hl\u001b[11;16H\u001b[?25h"]
[46.396133, "o", "\u001b[?25l\u001b[38;100H8 \u001b[11;16H\u001b[48;2;169;169;169mdispatc\u001b[36;97H\u001b(B\u001b[0;1;7m9\u001b[11;23H\u001b[?25h"]
[47.078978, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[11;23H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[11;5H\u001b[48;2;102;102;102m    return dispatch(user, payload)                                                                        \u001b(B\u001b[m\r\u001b[26B   \r\n\u001b[12X\u001b]112\u0007\u001b[2 q\u001b[11;23H\u001b[?25h"]
[47.378414, "o", "\u001b[?25l\u001b[38;100H:\u001b[11;23H\u001b[?25h\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[47.478728, "o", "\u001b[?25lF\u001b[?25h"]
[47.579667, "o", "\u001b[?25ll\u001b[?25h"]
[47.681114, "o", "\u001b[?25lo\u001b[?25h"]
[47.78263, "o", "\u001b[?25lw\u001b[?25h"]
[47.88354, "o", "\u001b[?25lA\u001b[?25h"]
[47.984706, "o", "\u001b[?25ld\u001b[?25h"]
[48.085985, "o", "\u001b[?25ld\u001b[?25h"]
[48.187021, "o", "\u001b[?25lN\u001b[?25h"]
[48.288834, "o", "\u001b[?25lo\u001b[?25h"]
[48.390013, "o", "\u001b[?25ld\u001b[?25h"]
[48.491417, "o", "\u001b[?25le\u001b[?25h"]
[48.592715, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[48.593129, "o", "\u001b[?25l\u001b[12XPick color: 1=Red 2=Blue 3=Green 4=Yellow 5=Cyan 6=Magenta\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[49.694234, "o", "\u001b[?25l3\u001b[?25h"]
[49.844904, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[60XNode note:\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[50.89613, "o", "\u001b[?25lr\u001b[?25h"]
[50.99731, "o", "\u001b[?25lo\u001b[?25h"]
[51.098483, "o", "\u001b[?25lu\u001b[?25h"]
[51.199702, "o", "\u001b[?25lt\u001b[?25h"]
[51.301092, "o", "\u001b[?25le\u001b[?25h"]
[51.402478, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[51.504027, "o", "\u001b[?25lt\u001b[?25h"]
[51.605071, "o", "\u001b[?25lo\u001b[?25h"]
[51.706208, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[51.807838, "o", "\u001b[?25lh\u001b[?25h"]
[51.90953, "o", "\u001b[?25la\u001b[?25h"]
[52.010755, "o", "\u001b[?25ln\u001b[?25h"]
[52.112194, "o", "\u001b[?25ld\u001b[?25h"]
[52.214031, "o", "\u001b[?25ll\u001b[?25h"]
[52.314722, "o", "\u001b[?25le\u001b[?25h"]
[52.416069, "o", "\u001b[?25lr\u001b[?25h"]
[52.517472, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[52.519299, "o", "\u001b[?25l\u001b[27C[numscull] node added (line 11)\u001b[11;16H\u001b[38;2;85;255;85m\u001b[48;2;21;58;21mdispatch\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\b\u001b[?25h"]
[55.6201, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[11;23H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[11;23H\u001b[?25h"]
[56.120479, "o", "\u001b[?25l\u001b[38;100Hg\u001b[11;23H\u001b[?25h"]
[56.271375, "o", "\u001b[?25l\u001b[38;100H \u001b[11;23H\u001b[?25h\u001b[?25l\u001b[38;100Hgg\u001b[11;23H\u001b[?25h"]
[56.271851, "o", "\u001b[?25l\u001b[38;100H  \u001b[H\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\u001b[48;2;102;102;102m\"\"\"Request handling pipeline —\u001b[1;35H entry point for HTTP requests.\"\"\"                                          \r\u001b[10B\u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    return \u001b[38;2;85;255;85m\u001b[48;2;21;58;21mdispatch\u001b(B\u001b[m(user, payload)\u001b[K\u001b[36;94H\u001b(B\u001b[0;1;7m,19 \u001b[1;23H\u001b[?25h"]
[57.423725, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[1;23H\u001b[?25h\u001b[?25l\r\u001b[36B\u001b[58X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[57.525197, "o", "\u001b[?25lF\u001b[?25h"]
[57.626165, "o", "\u001b[?25ll\u001b[?25h"]
[57.727032, "o", "\u001b[?25lo\u001b[?25h"]
[57.828558, "o", "\u001b[?25lw\u001b[?25h"]
[57.929884, "o", "\u001b[?25lN\u001b[?25h"]
[58.031188, "o", "\u001b[?25le\u001b[?25h"]
[58.13214, "o", "\u001b[?25lx\u001b[?25h"]
[58.233613, "o", "\u001b[?25lt\u001b[?25h"]
[58.335286, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[58.335696, "o", "\u001b[?25l\u001b[9X[numscull] node 2/3\u001b[H\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\"\"\"Request handling pipeline —\u001b[1;35H entry point for HTTP requests.\"\"\"\u001b[K\r\u001b[8B\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m\u001b[48;2;102;102;102m    user = \u001b(B\u001b[m\u001b[38;2;136;136;255m\u001b[48;2;21;21;58mextract_user\u001b(B\u001b[m\u001b[48;2;102;102;102m(request)                                                                          \u001b[36;93H\u001b(B\u001b[0;1;7m9,12\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[9;16H\u001b[?25h"]
[60.437248, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[9;16H\u001b[?25h\u001b[?25l\r\u001b[28B\u001b[19X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[60.538895, "o", "\u001b[?25lF\u001b[?25h"]
[60.640233, "o", "\u001b[?25ll\u001b[?25h"]
[60.741867, "o", "\u001b[?25lo\u001b[?25h"]
[60.843074, "o", "\u001b[?25lw\u001b[?25h"]
[60.944452, "o", "\u001b[?25lN\u001b[?25h"]
[61.046155, "o", "\u001b[?25le\u001b[?25h"]
[61.147228, "o", "\u001b[?25lx\u001b[?25h"]
[61.248396, "o", "\u001b[?25lt\u001b[?25h"]
[61.350037, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[61.35053, "o", "\u001b[?25l\u001b[9X[numscull] node 3/3\r\u001b[28A\u001b[38;2;255;255;0m  9 \u001b(B\u001b[m    user = \u001b[38;2;136;136;255m\u001b[48;2;21;21;58mextract_user\u001b(B\u001b[m(request)\u001b[K\r\n\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m\u001b[48;2;102;102;102m    return \u001b(B\u001b[m\u001b[38;2;85;255;85m\u001b[48;2;21;58;21mdispatch\u001b(B\u001b[m\u001b[48;2;102;102;102m(user, payload)                                                                        \u001b[36;93H\u001b(B\u001b[0;1;7m11,12\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[11;16H\u001b[?25h"]
[63.452109, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[11;16H\u001b[?25h\u001b[?25l\r\u001b[26B\u001b[19X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[63.553204, "o", "\u001b[?25lF\u001b[?25h"]
[63.654613, "o", "\u001b[?25ll\u001b[?25h"]
[63.756201, "o", "\u001b[?25lo\u001b[?25h"]
[63.857918, "o", "\u001b[?25lw\u001b[?25h"]
[63.958957, "o", "\u001b[?25lN\u001b[?25h"]
[64.060156, "o", "\u001b[?25le\u001b[?25h"]
[64.161282, "o", "\u001b[?25lx\u001b[?25h"]
[64.262737, "o", "\u001b[?25lt\u001b[?25h"]
[64.363988, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[64.364555, "o", "\u001b[?25l\u001b[9X[numscull] node 1/3\r\u001b[31A\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m\u001b[48;2;102;102;102m    if not \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mvalidate_headers\u001b(B\u001b[m\u001b[48;2;102;102;102m(request):                                                                     \r\u001b[5B\u001b(B\u001b[m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    return \u001b[38;2;85;255;85m\u001b[48;2;21;58;21mdispatch\u001b(B\u001b[m(user, payload)\u001b[K\u001b[36;93H\u001b(B\u001b[0;1;7m6,12 \u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[6;16H\u001b[?25h"]
[66.465481, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[6;16H\u001b[?25h\u001b[?25l\r\u001b[31B\u001b[19X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[66.56659, "o", "\u001b[?25lF\u001b[?25h"]
[66.667654, "o", "\u001b[?25ll\u001b[?25h"]
[66.768745, "o", "\u001b[?25lo\u001b[?25h"]
[66.869772, "o", "\u001b[?25lw\u001b[?25h"]
[66.971063, "o", "\u001b[?25lP\u001b[?25h"]
[67.072859, "o", "\u001b[?25lr\u001b[?25h"]
[67.173913, "o", "\u001b[?25le\u001b[?25h"]
[67.275182, "o", "\u001b[?25lv\u001b[?25h"]
[67.376926, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[67.377486, "o", "\u001b[?25l\u001b[9X[numscull] node 3/3\r\u001b[31A\u001b[38;2;255;255;0m  6 \u001b(B\u001b[m    if not \u001b[38;2;255;85;85m\u001b[48;2;58;21;21mvalidate_headers\u001b(B\u001b[m(request):\u001b[K\r\u001b[5B\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m\u001b[48;2;102;102;102m    return \u001b(B\u001b[m\u001b[38;2;85;255;85m\u001b[48;2;21;58;21mdispatch\u001b(B\u001b[m\u001b[48;2;102;102;102m(user, payload)                                                                        \u001b[36;93H\u001b(B\u001b[0;1;7m11,12\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[11;16H\u001b[?25h"]
[69.529512, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[11;16H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[11;16H\u001b[?25h"]
[70.031435, "o", "\u001b[?25l\u001b[38;100H:\u001b[11;16H\u001b[?25h\u001b[?25l\r\u001b[26B\u001b[19X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[70.132615, "o", "\u001b[?25lF\u001b[?25h"]
[70.233591, "o", "\u001b[?25ll\u001b[?25h"]
[70.334735, "o", "\u001b[?25lo\u001b[?25h"]
[70.436051, "o", "\u001b[?25lw\u001b[?25h"]
[70.537471, "o", "\u001b[?25lC\u001b[?25h"]
[70.638435, "o", "\u001b[?25lr\u001b[?25h"]
[70.73965, "o", "\u001b[?25le\u001b[?25h"]
[70.84106, "o", "\u001b[?25la\u001b[?25h"]
[70.942329, "o", "\u001b[?25lt\u001b[?25h"]
[71.043617, "o", "\u001b[?25le\u001b[?25h"]
[71.145022, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[71.24624, "o", "\u001b[?25lB\u001b[?25h"]
[71.347319, "o", "\u001b[?25lu\u001b[?25h"]
[71.448368, "o", "\u001b[?25lg\u001b[?25h"]
[71.549651, "o", "\u001b[?25l:\u001b[?25h"]
[71.650801, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[71.751899, "o", "\u001b[?25lN\u001b[?25h"]
[71.853032, "o", "\u001b[?25le\u001b[?25h"]
[71.95402, "o", "\u001b[?25lg\u001b[?25h"]
[72.055562, "o", "\u001b[?25la\u001b[?25h"]
[72.157155, "o", "\u001b[?25lt\u001b[?25h"]
[72.258491, "o", "\u001b[?25li\u001b[?25h"]
[72.359832, "o", "\u001b[?25lv\u001b[?25h"]
[72.46087, "o", "\u001b[?25le\u001b[?25h"]
[72.562007, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[72.663151, "o", "\u001b[?25lT\u001b[?25h"]
[72.764542, "o", "\u001b[?25lr\u001b[?25h"]
[72.865782, "o", "\u001b[?25la\u001b[?25h"]
[72.966126, "o", "\u001b[?25ln\u001b[?25h"]
[73.066908, "o", "\u001b[?25ls\u001b[?25h"]
[73.168687, "o", "\u001b[?25lf\u001b[?25h"]
[73.269855, "o", "\u001b[?25le\u001b[?25h"]
[73.371503, "o", "\u001b[?25lr\u001b[?25h"]
[73.473271, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[73.475266, "o", "\u001b[?25l\u001b[34X[numscull] flow created\u001b[6;16Hvalidate_headers\u001b[9;16Hextract_user\u001b[11;16H\u001b[48;2;102;102;102mdispatch\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[8D\u001b[?25h"]
[75.575352, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[11;16H\u001b[?25h\u001b[?25l\r\u001b[26B\u001b[23X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[75.726023, "o", "\u001b[?25l4\u001b[?25h"]
[75.877717, "o", "\u001b[?25l3\u001b[?25h"]
[76.028917, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[76.029457, "o", "\u001b[?25l\u001b[1;35r\u001b[H\u001b[8M\u001b[r\u001b[3;1H\u001b[38;2;255;255;0m 11 \u001b(B\u001b[m    return dispatch(user, payload)\u001b[K\r\u001b[25B\u001b[38;2;255;255;0m 36 \u001b(B\u001b[m        return process_transfer(user, payload)\u001b[K\r\n\u001b[38;2;255;255;0m 37 \u001b(B\u001b[m    return {\"status\": 400, \"body\": \"Unknown action\"}\u001b[K\r\n\u001b[38;2;255;255;0m 38 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 39 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 40 \u001b(B\u001b[mdef process_transfer(user: str, payload: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 41 \u001b(B\u001b[m    amount = payload[\"amount\"]\u001b[K\r\n\u001b[38;2;255;255;0m 42 \u001b(B\u001b[m    destination = payload[\"destination\"]\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 43 \u001b(B\u001b[m\u001b[48;2;102;102;102m    # TODO: add rate limiting                                                                             \u001b[36;93H\u001b(B\u001b[0;1;7m43,12          34%\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[35;16H\u001b[?25h"]
[77.181111, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m0\u001b[35;16H\u001b[?25h"]
[77.181544, "o", "\u001b[?25l\u001b[38;100H \u001b[36;97H\u001b(B\u001b[0;1;7m \u001b[35;5H\u001b[?25h"]
[77.613834, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m1\u001b[35;5H\u001b[?25h"]
[77.745459, "o", "\u001b[?25l\u001b[38;101H4\u001b[35;5H\u001b[?25h"]
[77.876714, "o", "\u001b[?25l\u001b[38;102Hl\u001b[35;5H\u001b[?25h"]
[77.877044, "o", "\u001b[?25l\u001b[38;100H   \u001b[36;97H\u001b(B\u001b[0;1;7m5\u001b[35;19H\u001b[?25h"]
[78.309645, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[mv\u001b[35;19H\u001b[?25h\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h\u001b[?25l\u001b[38;100H1\u001b[35;5H    # TODO: add rate limiting\u001b[K\u001b[15D\u001b[?25h\u001b[?25l\r\n\n\n\u001b(B\u001b[0;1m-- VISUAL --\u001b[87C\u001b(B\u001b[m \u001b[88D\u001b[?25h\u001b[?25l\u001b[87C1\u001b[35;19H\u001b[?25h"]
[78.440773, "o", "\u001b[?25l\u001b[38;100H5\u001b[35;19H\u001b[?25h"]
[78.571938, "o", "\u001b[?25l\u001b[38;101Hl\u001b[35;19H\u001b[?25h"]
[78.572212, "o", "\u001b[?25l\u001b[38;100H6 \u001b[35;19H\u001b[48;2;169;169;169md rat\u001b[36;96H\u001b(B\u001b[0;1;7m20\u001b[35;24H\u001b[?25h"]
[79.254126, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[35;24H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[35;5H\u001b[48;2;102;102;102m    # TODO: add rate limiting                                                                             \u001b(B\u001b[m\r\n\n   \r\n\u001b[12X\u001b]112\u0007\u001b[2 q\u001b[35;24H\u001b[?25h"]
[79.555164, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;24H\u001b[?25h\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[79.656691, "o", "\u001b[?25lF\u001b[?25h"]
[79.758233, "o", "\u001b[?25ll\u001b[?25h"]
[79.859586, "o", "\u001b[?25lo\u001b[?25h"]
[79.960707, "o", "\u001b[?25lw\u001b[?25h"]
[80.062186, "o", "\u001b[?25lA\u001b[?25h"]
[80.163423, "o", "\u001b[?25ld\u001b[?25h"]
[80.268517, "o", "\u001b[?25ld\u001b[?25h"]
[80.367847, "o", "\u001b[?25lN\u001b[?25h"]
[80.469593, "o", "\u001b[?25lo\u001b[?25h"]
[80.570575, "o", "\u001b[?25ld\u001b[?25h"]
[80.671963, "o", "\u001b[?25le\u001b[?25h"]
[80.773257, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[80.773559, "o", "\u001b[?25l\u001b[12XPick color: 1=Red 2=Blue 3=Green 4=Yellow 5=Cyan 6=Magenta\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[81.875643, "o", "\u001b[?25l4\u001b[?25h"]
[82.026505, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[60XNode note:\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[83.077891, "o", "\u001b[?25la\u001b[?25h"]
[83.178984, "o", "\u001b[?25lm\u001b[?25h"]
[83.280402, "o", "\u001b[?25lo\u001b[?25h"]
[83.381655, "o", "\u001b[?25lu\u001b[?25h"]
[83.483004, "o", "\u001b[?25ln\u001b[?25h"]
[83.584382, "o", "\u001b[?25lt\u001b[?25h"]
[83.685643, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[83.786753, "o", "\u001b[?25ln\u001b[?25h"]
[83.887841, "o", "\u001b[?25lo\u001b[?25h"]
[83.989023, "o", "\u001b[?25lt\u001b[?25h"]
[84.090098, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[84.191092, "o", "\u001b[?25lv\u001b[?25h"]
[84.292219, "o", "\u001b[?25la\u001b[?25h"]
[84.393541, "o", "\u001b[?25ll\u001b[?25h"]
[84.494557, "o", "\u001b[?25li\u001b[?25h"]
[84.595494, "o", "\u001b[?25ld\u001b[?25h"]
[84.696833, "o", "\u001b[?25la\u001b[?25h"]
[84.797919, "o", "\u001b[?25lt\u001b[?25h"]
[84.899118, "o", "\u001b[?25le\u001b[?25h"]
[85.000222, "o", "\u001b[?25ld\u001b[?25h"]
[85.101683, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[85.104253, "o", "\u001b[?25l\u001b[31C[numscull] node added (line 43)\u001b[35;19H\u001b[38;2;255;255;85m\u001b[48;2;58;58;21md rate\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\b\u001b[?25h"]
[87.15295, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[35;24H\u001b[?25h\u001b[?25l\r\n\n\u001b[62X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[87.304251, "o", "\u001b[?25l4\u001b[?25h"]
[87.455342, "o", "\u001b[?25l9\u001b[?25h"]
[87.606116, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[87.606513, "o", "\u001b[?25l\u001b[1;35r\u001b[H\u001b[6M\u001b[r\u001b[29;1H\u001b[38;2;255;255;0m 43 \u001b(B\u001b[m    # TODO: ad\u001b[38;2;255;255;85m\u001b[48;2;58;58;21md rate\u001b(B\u001b[m limiting\u001b[K\r\n\u001b[38;2;255;255;0m 44 \u001b(B\u001b[m    return execute_transfer(user, destination, amount)\u001b[K\r\n\u001b[38;2;255;255;0m 45 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 46 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 47 \u001b(B\u001b[mdef execute_transfer(user: str, dest: str, amount: float) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 48 \u001b(B\u001b[m    # Direct DB call —\u001b[34;27H no validation on amount sign!\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 49 \u001b(B\u001b[m\u001b[48;2;102;102;102m    record = {\"from\": user, \"to\": dest, \"amount\": amount}                                                 \u001b[36;94H\u001b(B\u001b[0;1;7m9,20          60\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[35;24H\u001b[?25h"]
[88.758026, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m0\u001b[35;24H\u001b[?25h"]
[88.758491, "o", "\u001b[?25l\u001b[38;100H \u001b[36;96H\u001b(B\u001b[0;1;7m1 \u001b[35;5H\u001b[?25h"]
[89.189784, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m4\u001b[35;5H\u001b[?25h"]
[89.32119, "o", "\u001b[?25l\u001b[38;101Hl\u001b[35;5H\u001b[?25h"]
[89.321585, "o", "\u001b[?25l\u001b[38;100H  \u001b[36;96H\u001b(B\u001b[0;1;7m5\u001b[35;9H\u001b[?25h"]
[89.753976, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[mv\u001b[35;9H\u001b[?25h\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?25h"]
[89.75437, "o", "\u001b[?25l\u001b[38;100H1\u001b[35;5H    record = {\"from\": user, \"to\": dest, \"amount\": amount}\u001b[K\u001b[53D\u001b[?25h\u001b[?25l\r\n\n\n\u001b(B\u001b[0;1m-- VISUAL --\u001b[87C\u001b(B\u001b[m \u001b[88D\u001b[?25h\u001b[?25l\u001b[87C1\u001b[35;9H\u001b[?25h"]
[89.88551, "o", "\u001b[?25l\u001b[38;100H5\u001b[35;9H\u001b[?25h"]
[90.01674, "o", "\u001b[?25l\u001b[38;101H5\u001b[35;9H\u001b[?25h"]
[90.148239, "o", "\u001b[?25l\u001b[38;102Hl\u001b[35;9H\u001b[?25h"]
[90.148719, "o", "\u001b[?25l\u001b[38;101H4 \u001b[35;9H\u001b[48;2;169;169;169mrecord = {\"from\": user, \"to\": dest, \"amount\": amount}\u001b[36;97H\u001b(B\u001b[0;1;7m8\u001b[35;62H\u001b[?25h"]
[90.830015, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[35;62H\u001b[?25h"]
[90.830446, "o", "\u001b[?25l\u001b[38;100H  \u001b[35;5H\u001b[48;2;102;102;102m    record = \u001b(B\u001b[m\u001b[48;2;0;139;139m{\u001b(B\u001b[m\u001b[48;2;102;102;102m\"from\": user, \"to\": dest, \"amount\": amount\u001b(B\u001b[m\u001b[48;2;0;139;139m}\u001b(B\u001b[m\u001b[48;2;102;102;102m                                                 \u001b[36;97H\u001b(B\u001b[0;1;7m7\u001b(B\u001b[m\r\n   \r\n\u001b[12X\u001b]112\u0007\u001b[2 q\u001b[35;61H\u001b[?25h"]
[91.131203, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;61H\u001b[?25h\u001b[?25l\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[91.232345, "o", "\u001b[?25lF\u001b[?25h"]
[91.333443, "o", "\u001b[?25ll\u001b[?25h"]
[91.435509, "o", "\u001b[?25lo\u001b[?25h"]
[91.5363, "o", "\u001b[?25lw\u001b[?25h"]
[91.637093, "o", "\u001b[?25lA\u001b[?25h"]
[91.738218, "o", "\u001b[?25ld\u001b[?25h"]
[91.839444, "o", "\u001b[?25ld\u001b[?25h"]
[91.940594, "o", "\u001b[?25lN\u001b[?25h"]
[92.04163, "o", "\u001b[?25lo\u001b[?25h"]
[92.142931, "o", "\u001b[?25ld\u001b[?25h"]
[92.243935, "o", "\u001b[?25le\u001b[?25h"]
[92.344973, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[92.345316, "o", "\u001b[?25l\u001b[12XPick color: 1=Red 2=Blue 3=Green 4=Yellow 5=Cyan 6=Magenta\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[93.446295, "o", "\u001b[?25l1\u001b[?25h"]
[93.597225, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h\u001b[?25l\u001b[60XNode note:\u001b]112\u0007\u001b[2 q\u001b[C\u001b[?25h"]
[94.649222, "o", "\u001b[?25lB\u001b[?25h"]
[94.750433, "o", "\u001b[?25lU\u001b[?25h"]
[94.851532, "o", "\u001b[?25lG\u001b[?25h"]
[94.952576, "o", "\u001b[?25l:\u001b[?25h"]
[95.053697, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[95.154616, "o", "\u001b[?25ln\u001b[?25h"]
[95.255732, "o", "\u001b[?25lo\u001b[?25h"]
[95.357106, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[95.458036, "o", "\u001b[?25ls\u001b[?25h"]
[95.559075, "o", "\u001b[?25li\u001b[?25h"]
[95.660748, "o", "\u001b[?25lg\u001b[?25h"]
[95.762177, "o", "\u001b[?25ln\u001b[?25h"]
[95.863555, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[95.964684, "o", "\u001b[?25lc\u001b[?25h"]
[96.065996, "o", "\u001b[?25lh\u001b[?25h"]
[96.167166, "o", "\u001b[?25le\u001b[?25h"]
[96.268509, "o", "\u001b[?25lc\u001b[?25h"]
[96.369958, "o", "\u001b[?25lk\u001b[?25h"]
[96.471308, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[96.572531, "o", "\u001b[?25lo\u001b[?25h"]
[96.67398, "o", "\u001b[?25ln\u001b[?25h"]
[96.774647, "o", "\u001b[?25l\u001b[C\u001b[?25h"]
[96.875755, "o", "\u001b[?25la\u001b[?25h"]
[96.977095, "o", "\u001b[?25lm\u001b[?25h"]
[97.078619, "o", "\u001b[?25lo\u001b[?25h"]
[97.179857, "o", "\u001b[?25lu\u001b[?25h"]
[97.281062, "o", "\u001b[?25ln\u001b[?25h"]
[97.382254, "o", "\u001b[?25lt\u001b[?25h"]
[97.483516, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[97.485558, "o", "\u001b[?25l\u001b[39C[numscull] node added (line 49)\u001b[35;9H\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mrecord = \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m{\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21m\"from\": user, \"to\": dest, \"amount\": amount\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m}\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\b\u001b[?25h"]
[100.585889, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[35;61H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[35;61H\u001b[?25h"]
[101.085366, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;61H\u001b[?25h\u001b[?25l\r\n\n\u001b[70X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[101.186545, "o", "\u001b[?25lF\u001b[?25h"]
[101.287693, "o", "\u001b[?25ll\u001b[?25h"]
[101.38884, "o", "\u001b[?25lo\u001b[?25h"]
[101.490015, "o", "\u001b[?25lw\u001b[?25h"]
[101.591078, "o", "\u001b[?25lS\u001b[?25h"]
[101.691543, "o", "\u001b[?25le\u001b[?25h"]
[101.792572, "o", "\u001b[?25ll\u001b[?25h"]
[101.893845, "o", "\u001b[?25le\u001b[?25h"]
[101.995116, "o", "\u001b[?25lc\u001b[?25h"]
[102.096572, "o", "\u001b[?25lt\u001b[?25h"]
[102.198115, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[102.201011, "o", "\u001b[?25l\u001b[35;18H\u001b[38;2;255;85;85m\u001b[48;2;58;21;21m{\"from\": user, \"to\": dest, \"amount\": amount}\r\n\u001b(B\u001b[0;7mdemo/example_flow.py                                                                        49,57          60%\u001b[38;93H\u001b(B\u001b[m1,1           All\u001b[17;26H╭\u001b[17;27H─\u001b[17;28H─\u001b[17;29H─\u001b[17;30H─\u001b[17;31H─\u001b[17;32H─\u001b[17;33H─\u001b[17;34H─\u001b[17;35H─\u001b[17;36H─\u001b[17;37H─\u001b[17;38H─\u001b[17;39H─\u001b[17;40H─\u001b[17;41H─\u001b[17;42H─\u001b[17;43H─\u001b[17;44H─\u001b[17;45H─\u001b[17;46H─\u001b[17;47H─\u001b[17;48H─\u001b[17;49H─\u001b[17;50H\u001b(B\u001b[0;1m\u001b[38;2;255;0;255m Flow Select \u001b(B\u001b[m─\u001b[17;64H─\u001b[17;65H─\u001b[17;66H─\u001b[17;67H─\u001b[17;68H─\u001b[17;69H─\u001b[17;70H─\u001b[17;71H─\u001b[17;72H─\u001b[17;73H─\u001b[17;74H─\u001b[17;75H─\u001b[17;76H─\u001b[17;77H─\u001b[17;78H─\u001b[17;79H─\u001b[17;80H─\u001b[17;81H─\u001b[17;82H─\u001b[17;83H─\u001b[17;84H─\u001b[17;85H─\u001b[17;86H─\u001b[17;87H╮\u001b[18;26H│\u001b[18;27H\u001b(B\u001b[0;1m\u001b[38;2;255;0;255m\u001b[48;2;255;0;255m Flows (press number to select, n=new, d=delete, q=quit)\u001b(B\u001b[m\u001b[48;2;255;0;255m    \u001b(B\u001b[m│\u001b[19;26H│\u001b[19;27H\u001b[48;2;255;0;255m                                                            \u001b(B\u001b[m│\u001b[20;26H│\u001b[20;27H\u001b[48;2;255;0;255m   1. Security Audit —\u001b[20;49H                                      \u001b(B\u001b[m│\u001b[21;26H│\u001b[21;27H\u001b[48;2;169;169;169m * 2. Bug: Negative Transfer —\u001b[21;57H \u001b(B\u001b[m\u001b[48;2;255;0;255m                             \u001b(B\u001b[m│\u001b[22;26H│\u001b[22;27H\u001b[48;2;255;0;255m                                                            \u001b(B\u001b[m│\u001b[23;26H╰\u001b[23;27H─\u001b[23;28H─\u001b[23;29H─\u001b[23;30H─\u001b[23;31H─\u001b[23;32H─\u001b[23;33H─\u001b[23;34H─\u001b[23;35H─\u001b[23;36H─\u001b[23;37H─\u001b[23;38H─\u001b[23;39H─\u001b[23;40H─\u001b[23;41H─\u001b[23;42H─\u001b[23;43H─\u001b[23;44H─\u001b[23;45H─\u001b[23;46H─\u001b[23;47H─\u001b[23;48H─\u001b[23;49H─\u001b[23;50H─\u001b[23;51H─\u001b[23;52H─\u001b[23;53H─\u001b[23;54H─\u001b[23;55H─\u001b[23;56H─\u001b[23;57H─\u001b[23;58H─\u001b[23;59H─\u001b[23;60H─\u001b[23;61H─\u001b[23;62H─\u001b[23;63H─\u001b[23;64H─\u001b[23;65H─\u001b[23;66H─\u001b[23;67H─\u001b[23;68H─\u001b[23;69H─\u001b[23;70H─\u001b[23;71H─\u001b[23;72H─\u001b[23;73H─\u001b[23;74H─\u001b[23;75H─\u001b[23;76H─\u001b[23;77H─\u001b[23;78H─\u001b[23;79H─\u001b[23;80H─\u001b[23;81H─\u001b[23;82H─\u001b[23;83H─\u001b[23;84H─\u001b[23;85H─\u001b[23;86H─\u001b[23;87H╯\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[18;27H\u001b[?25h"]
[105.30273, "o", "\u001b[?25l\u001b[17;26H                                                              \u001b[18;26H                                                              \u001b[19;26Hr, payload: dict) -> dict:                                    \u001b[20;26Hget(\"action\", \"\")                                             \u001b[21;26Hnsfer\":                                                       \u001b[22;26Hs_transfer(user, payload)                                     \u001b[23;26H 400, \"body\": \"Unknown action\"}                               \r\u001b[14B\u001b[11X\u001b[38;93H\u001b[17X\r\u001b[A[numscull] active: Security Audit\u001b[29;19Hd rate\u001b[35;9H\u001b[48;2;102;102;102mrecord = \u001b(B\u001b[m\u001b[48;2;0;139;139m{\u001b(B\u001b[m\u001b[48;2;102;102;102m\"from\": user, \"to\": dest, \"amount\": amount\u001b(B\u001b[m\u001b[48;2;0;139;139m}\r\n\u001b(B\u001b[0;1;7mdemo/example_flow.py                                                                        49,57          60%\u001b[35;61H\u001b[?25h"]
[108.351416, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[35;61H\u001b[?25h\u001b[?25l\r\n\n\u001b[33X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[108.452577, "o", "\u001b[?25lF\u001b[?25h"]
[108.553993, "o", "\u001b[?25ll\u001b[?25h"]
[108.655204, "o", "\u001b[?25lo\u001b[?25h"]
[108.75629, "o", "\u001b[?25lw\u001b[?25h"]
[108.857854, "o", "\u001b[?25lS\u001b[?25h"]
[108.959437, "o", "\u001b[?25le\u001b[?25h"]
[109.060846, "o", "\u001b[?25ll\u001b[?25h"]
[109.161838, "o", "\u001b[?25le\u001b[?25h"]
[109.2633, "o", "\u001b[?25lc\u001b[?25h"]
[109.364588, "o", "\u001b[?25lt\u001b[?25h"]
[109.466051, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[109.468992, "o", "\u001b[?25l\u001b[35;18H\u001b[48;2;102;102;102m{\"from\": user, \"to\": dest, \"amount\": amount}\r\n\u001b(B\u001b[0;7mdemo/example_flow.py                                                                        49,57          60%\u001b[38;93H\u001b(B\u001b[m1,1           All\u001b[17;26H╭\u001b[17;27H─\u001b[17;28H─\u001b[17;29H─\u001b[17;30H─\u001b[17;31H─\u001b[17;32H─\u001b[17;33H─\u001b[17;34H─\u001b[17;35H─\u001b[17;36H─\u001b[17;37H─\u001b[17;38H─\u001b[17;39H─\u001b[17;40H─\u001b[17;41H─\u001b[17;42H─\u001b[17;43H─\u001b[17;44H─\u001b[17;45H─\u001b[17;46H─\u001b[17;47H─\u001b[17;48H─\u001b[17;49H─\u001b[17;50H\u001b(B\u001b[0;1m\u001b[38;2;255;0;255m Flow Select \u001b(B\u001b[m─\u001b[17;64H─\u001b[17;65H─\u001b[17;66H─\u001b[17;67H─\u001b[17;68H─\u001b[17;69H─\u001b[17;70H─\u001b[17;71H─\u001b[17;72H─\u001b[17;73H─\u001b[17;74H─\u001b[17;75H─\u001b[17;76H─\u001b[17;77H─\u001b[17;78H─\u001b[17;79H─\u001b[17;80H─\u001b[17;81H─\u001b[17;82H─\u001b[17;83H─\u001b[17;84H─\u001b[17;85H─\u001b[17;86H─\u001b[17;87H╮\u001b[18;26H│\u001b[18;27H\u001b(B\u001b[0;1m\u001b[38;2;255;0;255m\u001b[48;2;255;0;255m Flows (press number to select, n=new, d=delete, q=quit)\u001b(B\u001b[m\u001b[48;2;255;0;255m    \u001b(B\u001b[m│\u001b[19;26H│\u001b[19;27H\u001b[48;2;255;0;255m                                                            \u001b(B\u001b[m│\u001b[20;26H│\u001b[20;27H\u001b[48;2;169;169;169m * 1. Security Audit —\u001b[20;49H \u001b(B\u001b[m\u001b[48;2;255;0;255m                                     \u001b(B\u001b[m│\u001b[21;26H│\u001b[21;27H\u001b[48;2;255;0;255m   2. Bug: Negative Transfer —\u001b[21;57H                              \u001b(B\u001b[m│\u001b[22;26H│\u001b[22;27H\u001b[48;2;255;0;255m                                                            \u001b(B\u001b[m│\u001b[23;26H╰\u001b[23;27H─\u001b[23;28H─\u001b[23;29H─\u001b[23;30H─\u001b[23;31H─\u001b[23;32H─\u001b[23;33H─\u001b[23;34H─\u001b[23;35H─\u001b[23;36H─\u001b[23;37H─\u001b[23;38H─\u001b[23;39H─\u001b[23;40H─\u001b[23;41H─\u001b[23;42H─\u001b[23;43H─\u001b[23;44H─\u001b[23;45H─\u001b[23;46H─\u001b[23;47H─\u001b[23;48H─\u001b[23;49H─\u001b[23;50H─\u001b[23;51H─\u001b[23;52H─\u001b[23;53H─\u001b[23;54H─\u001b[23;55H─\u001b[23;56H─\u001b[23;57H─\u001b[23;58H─\u001b[23;59H─\u001b[23;60H─\u001b[23;61H─\u001b[23;62H─\u001b[23;63H─\u001b[23;64H─\u001b[23;65H─\u001b[23;66H─\u001b[23;67H─\u001b[23;68H─\u001b[23;69H─\u001b[23;70H─\u001b[23;71H─\u001b[23;72H─\u001b[23;73H─\u001b[23;74H─\u001b[23;75H─\u001b[23;76H─\u001b[23;77H─\u001b[23;78H─\u001b[23;79H─\u001b[23;80H─\u001b[23;81H─\u001b[23;82H─\u001b[23;83H─\u001b[23;84H─\u001b[23;85H─\u001b[23;86H─\u001b[23;87H╯\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[18;27H\u001b[?25h"]
[112.570962, "o", "\u001b[?25l\u001b[17;26H                                                              \u001b[18;26H                                                              \u001b[19;26Hr, payload: dict) -> dict:                                    \u001b[20;26Hget(\"action\", \"\")                                             \u001b[21;26Hnsfer\":                                                       \u001b[22;26Hs_transfer(user, payload)                                     \u001b[23;26H 400, \"body\": \"Unknown action\"}                               \r\u001b[14B\u001b[11X\u001b[38;93H\u001b[17X\r\u001b[A[numscull] active: Bug: Negative Transfer\u001b[29;19H\u001b[38;2;255;255;85m\u001b[48;2;58;58;21md rate\u001b[35;9H\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mrecord = \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m{\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21m\"from\": user, \"to\": dest, \"amount\": amount\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m}\r\n\u001b(B\u001b[0;1;7mdemo/example_flow.py                                                                        49,57          60%\u001b[35;61H\u001b[?25h"]
[115.670851, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[35;61H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[35;61H\u001b[?25h"]
[116.170693, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;61H\u001b[?25h\u001b[?25l\r\n\n\u001b[41X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[116.271856, "o", "\u001b[?25lF\u001b[?25h"]
[116.373043, "o", "\u001b[?25ll\u001b[?25h"]
[116.474337, "o", "\u001b[?25lo\u001b[?25h"]
[116.575966, "o", "\u001b[?25lw\u001b[?25h"]
[116.677895, "o", "\u001b[?25lL\u001b[?25h"]
[116.779416, "o", "\u001b[?25li\u001b[?25h"]
[116.880608, "o", "\u001b[?25ls\u001b[?25h"]
[116.982062, "o", "\u001b[?25lt\u001b[?25h"]
[117.082906, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[117.0864, "o", "\u001b[?25l\u001b[1;2H\u001b[38;2;255;255;0m33 \u001b(B\u001b[mdef dispatch(user: str, payload: dict) -> dict:\u001b[16X\u001b[2;2H\u001b[38;2;255;255;0m34 \u001b(B\u001b[m    action = payload.get(\"action\", \"\")\u001b[19X\u001b[3;2H\u001b[38;2;255;255;0m35 \u001b(B\u001b[m    if action == \"transfer\":\u001b[4;2H\u001b[38;2;255;255;0m36 \u001b(B\u001b[m        return process_transfer(user, payload)\u001b[5;2H\u001b[38;2;255;255;0m37 \u001b(B\u001b[m    return {\"status\": 400, \"body\": \"Unknown action\"}\u001b[6;2H\u001b[38;2;255;255;0m38 \u001b(B\u001b[m\u001b[51X\u001b[7;2H\u001b[38;2;255;255;0m39 \u001b(B\u001b[m\u001b[36X\u001b[8;2H\u001b[38;2;255;255;0m40 \u001b(B\u001b[mdef process_transfer(user: str, payload: dict) -> dict:\u001b[9;2H\u001b[38;2;255;255;0m41 \u001b(B\u001b[m    amount = payload[\"amount\"]\u001b[39X\u001b[10;2H\u001b[38;2;255;255;0m42 \u001b(B\u001b[m    destination = payload[\"destination\"]\u001b[11;2H\u001b[38;2;255;255;0m43 \u001b(B\u001b[m    # TODO: ad\u001b[38;2;255;255;85m\u001b[48;2;58;58;21md rate\u001b(B\u001b[m limiting\u001b[12;2H\u001b[38;2;255;255;0m44 \u001b(B\u001b[m    return execute_transfer(user, destination, amount)\u001b[13;2H\u001b[38;2;255;255;0m45 \u001b(B\u001b[m\u001b[38X\u001b[14;2H\u001b[38;2;255;255;0m46 \u001b(B\u001b[m\u001b[15X\u001b[15;2H\u001b[38;2;255;255;0m47 \u001b(B\u001b[mdef execute_transfer(user: str, dest: str, amount: float) -> dict:\u001b[16;2H\u001b[38;2;255;255;0m48 \u001b(B\u001b[m    # Direct DB call —\u001b[16;27H no validation on amount sign!\r\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 49 \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mrecord = {\"from\": user, \"to\": dest, \"amount\": amount}\u001b(B\u001b[m\u001b[48;2;102;102;102m                                                 \r\n\u001b(B\u001b[0;7mdemo/example_flow.py                                                                        49,57          78%\r\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m  1 \u001b(B\u001b[m\u001b[48;2;102;102;102m# Flows                                                                                                   \u001b[20;2H\u001b(B\u001b[m\u001b[38;2;255;255;0m 2 \u001b(B\u001b[m\u001b[38X\u001b[21;2H\u001b[38;2;255;255;0m 3 \u001b(B\u001b[m   1  Security Audit —\u001b[21;27H \u001b[5X\u001b[22;2H\u001b[38;2;255;255;0m 4 \u001b(B\u001b[m * 2  Bug: Negative Transfer —\u001b[22;35H \u001b[15X\r\n\u001b(B\u001b[0;1m\u001b[38;2;0;0;255m~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n~\u001b[K\r\n\u001b(B\u001b[0;1;7m[Scratch]           \u001b[72C1,1            All\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[19;5H\u001b[?25h"]
[121.184905, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m:\u001b[19;5H\u001b[?25h\u001b[?25l\r\u001b[18B\u001b[9X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[121.295597, "o", "\u001b[?25lq\u001b[?25h"]
[121.406429, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[121.407815, "o", "\u001b[?25l\u001b[1;2H\u001b[38;2;255;255;0m15 \u001b(B\u001b[m    token = request.get(\"headers\", {}).get(\"Authorization\", \"\")\u001b[2;2H\u001b[38;2;255;255;0m16 \u001b(B\u001b[m    return token.startswith(\"Bearer \") and len(token) > 7\u001b[3;2H\u001b[38;2;255;255;0m17 \u001b(B\u001b[m\u001b[28X\u001b[4;2H\u001b[38;2;255;255;0m18 \u001b(B\u001b[m\u001b[46X\u001b[5;2H\u001b[38;2;255;255;0m19 \u001b(B\u001b[mdef extract_user(request: dict) -> str:\u001b[13X\u001b[6;2H\u001b[38;2;255;255;0m20 \u001b(B\u001b[m    token = request[\"headers\"][\"Authorization\"][7:]\u001b[7;2H\u001b[38;2;255;255;0m21 \u001b(B\u001b[m    # Decode JWT claims (simplified)\u001b[8;2H\u001b[38;2;255;255;0m22 \u001b(B\u001b[m    import base64, json\u001b[32X\u001b[9;2H\u001b[38;2;255;255;0m23 \u001b(B\u001b[m    claims = json.loads(base64.b64decode(token.split(\".\")[1] + \"==\"))\u001b[10;2H\u001b[38;2;255;255;0m24 \u001b(B\u001b[m    return claims[\"sub\"]\u001b[16X\u001b[11;2H\u001b[38;2;255;255;0m25 \u001b(B\u001b[m\u001b[29X\u001b[12;2H\u001b[38;2;255;255;0m26 \u001b(B\u001b[m\u001b[54X\u001b[13;2H\u001b[38;2;255;255;0m27 \u001b(B\u001b[mdef parse_body(request: dict) -> dict:\u001b[14;2H\u001b[38;2;255;255;0m28 \u001b(B\u001b[m    import json\u001b[15;2H\u001b[38;2;255;255;0m29 \u001b(B\u001b[m    raw = request.get(\"body\", \"{}\")\u001b[31X\u001b[16;2H\u001b[38;2;255;255;0m30 \u001b(B\u001b[m    return json.loads(raw)\u001b[26X\r\n\u001b[38;2;255;255;0m 31 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 32 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 33 \u001b(B\u001b[mdef dispatch(user: str, payload: dict) -> dict:\u001b[K\u001b[20;2H\u001b[38;2;255;255;0m34 \u001b(B\u001b[m    action = payload.get(\"action\", \"\")\u001b[21;2H\u001b[38;2;255;255;0m35 \u001b(B\u001b[m    if action == \"transfer\":\u001b[22;2H\u001b[38;2;255;255;0m36 \u001b(B\u001b[m        return process_transfer(user, payload)\r\n\u001b[38;2;255;255;0m 37 \u001b(B\u001b[m    return {\"status\": 400, \"body\": \"Unknown action\"}\u001b[K\r\n\u001b[38;2;255;255;0m 38 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 39 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 40 \u001b(B\u001b[mdef process_transfer(user: str, payload: dict) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 41 \u001b(B\u001b[m    amount = payload[\"amount\"]\u001b[K\r\n\u001b[38;2;255;255;0m 42 \u001b(B\u001b[m    destination = payload[\"destination\"]\u001b[K\r\n\u001b[38;2;255;255;0m 43 \u001b(B\u001b[m    # TODO: ad\u001b[38;2;255;255;85m\u001b[48;2;58;58;21md rate\u001b(B\u001b[m limiting\u001b[K\r\n\u001b[38;2;255;255;0m 44 \u001b(B\u001b[m    return execute_transfer(user, destination, amount)\u001b[K\r\n\u001b[38;2;255;255;0m 45 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 46 \u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;255;255;0m 47 \u001b(B\u001b[mdef execute_transfer(user: str, dest: str, amount: float) -> dict:\u001b[K\r\n\u001b[38;2;255;255;0m 48 \u001b(B\u001b[m    # Direct DB call —\u001b[34;27H no validation on amount sign!\u001b[K\r\n\u001b(B\u001b[0;1m\u001b[38;2;255;255;0m 49 \u001b(B\u001b[m\u001b[48;2;102;102;102m    \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21mrecord = \u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m{\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;58;21;21m\"from\": user, \"to\": dest, \"amount\": amount\u001b(B\u001b[m\u001b[38;2;255;85;85m\u001b[48;2;0;139;139m}\u001b(B\u001b[m\u001b[48;2;102;102;102m                                                 \r\n\u001b(B\u001b[0;1;7mdemo/example_flow.py\u001b[72C49,57          60%\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[35;61H\u001b[?25h"]
[122.5697, "o", "\u001b[?25l\u001b[38;100H\u001b(B\u001b[m^[\u001b[35;61H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[35;61H\u001b[?25h"]
[123.069575, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;61H\u001b[?25h\u001b[?25l\r\n\n  \u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[123.170611, "o", "\u001b[?25lN\u001b[?25h"]
[123.272074, "o", "\u001b[?25lu\u001b[?25h"]
[123.373495, "o", "\u001b[?25lm\u001b[?25h"]
[123.475214, "o", "\u001b[?25ls\u001b[?25h"]
[123.576803, "o", "\u001b[?25lc\u001b[?25h"]
[123.67834, "o", "\u001b[?25lu\u001b[?25h"]
[123.779721, "o", "\u001b[?25ll\u001b[?25h"]
[123.880685, "o", "\u001b[?25ll\u001b[?25h"]
[123.982415, "o", "\u001b[?25lD\u001b[?25h"]
[124.083673, "o", "\u001b[?25li\u001b[?25h"]
[124.184775, "o", "\u001b[?25ls\u001b[?25h"]
[124.285879, "o", "\u001b[?25lc\u001b[?25h"]
[124.38743, "o", "\u001b[?25lo\u001b[?25h"]
[124.488571, "o", "\u001b[?25ln\u001b[?25h"]
[124.5902, "o", "\u001b[?25ln\u001b[?25h"]
[124.691546, "o", "\u001b[?25le\u001b[?25h"]
[124.792446, "o", "\u001b[?25lc\u001b[?25h"]
[124.893469, "o", "\u001b[?25lt\u001b[?25h"]
[124.994739, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[124.995309, "o", "\u001b[?25l\u001b[19X[numscull] disconnected\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[35;61H\u001b[?25h"]
[127.147126, "o", "\u001b[?25l\u001b[38;100H^[\u001b[35;61H\u001b[?25h\u001b[?25l\u001b[38;100H  \u001b[35;61H\u001b[?25h"]
[127.648572, "o", "\u001b[?25l\u001b[38;100H:\u001b[35;61H\u001b[?25h\u001b[?25l\r\n\n\u001b[23X\u001b[38;100H \r\u001b[A:\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b[?25h"]
[127.75967, "o", "\u001b[?25lq\u001b[?25h"]
[127.870625, "o", "\u001b[?25l!\u001b[?25h"]
[127.981221, "o", "\u001b[?25l\r\u001b[37;1H\u001b[?25h"]
[127.986397, "o", "\u001b[?25l\u001b]112\u0007\u001b[2 q\u001b[?1002h\u001b[?1006h\u001b[?25h"]
[127.989348, "o", "\u001b[?25l\n\u001b]112\u0007\u001b[2 q\u001b[?1002l\u001b[?1006l\u001b(B\u001b[m\u001b[?25h\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?2004l\u001b[?1004l\u001b[?25h"]
